# OneEntry SDK

OneEntry Headless CMS SDK is an SDK that provides an easy way to interact with the OneEntry Headless CMS API.

## Official Site

Visit the official AsyncModules website at [https://oneentry.cloud](https://oneentry.cloud) to learn more about the AsyncModules Headless CMS.

## Sign Up

To get started with AsyncModules, sign up for an account at [https://account.oneentry.cloud/authentication/register](https://account.oneentry.cloud/authentication/register).

# Installation

To install the AsyncModules Headless CMS SDK in your project, run the following command:

```bash
npm install oneentry
```

## Get Started

To use the AsyncModules Headless CMS SDK in your project, import the defineOneEntry function:
```js
import { defineOneEntry } from 'oneentry'

const {
        Admins,
        AttributesSets,
        AuthProvider,
        Blocks,
        Events,
        Forms,
        FormData,
        FileUploading,
        GeneralTypes,
        Locales,
        Menus,
        Orders,
        Pages,
        Products,
        ProductStatuses,
        System,
        Templates,
        TemplatePreviews,
        Users
} = defineOneEntry('your-url');
```

Or

```js
const api = defineOneEntry('your-url');
```
---

### Config
The second parameter of the constructor takes the 'config'. It contains the following values:

- 'token' - Set the token key if your project secure "Security API Token". If you are using certificate protection, do not pass this variable. You can read more about the security of your project [here](https://oneentry.cloud/instructions).

- 'langCode' - Set the "langCode" to set the default language. By specifying this parameter once, you don't have to pass the langCode to the methods ONEENTRY API. If you have not passed the default language, it will be set "en_US".

- 'traficLimit' - Some methods use more than one request to the CMS so that the data you receive is complete and easy to work with. Pass the value "true" for this parameter to save traffic and decide for yourself what data you need. The default value "false".

- 'auth' - An object with authorization settings. By default, the SDK is configured to work with tokens inside the user's session and does not require any additional work from you. At the same time, the SDK does not store the session state between sessions. If you are satisfied with such settings, do not pass the variable 'auth' at all.

The 'auth' contains the following settings:

- 'refreshToken' - The user's refresh token. Transfer it here from the repository to restore the user's session during initialization.

- 'saveFunction' - A function that works with the update refresh token. If you want to store the token between sessions, for example in local storage, pass a function here that does this. The function must accept a parameter to which the string with the token will be passed.

- 'customAuth' - If you want to configure authorization and work with tokens yourself, set this flag to true. If you want to use the sdk settings, set it to false or do not transfer it at all.

An example of a configuration with token protection and automatic authentication that stores state between sessions
```js
const tokenFunction = (token) => {
    localStorage.setItem('refreshToken', token)
}

const api = defineOneEntry('https://my-project.oneentry.cloud', {
    token:'my-token',
    langCode:'en_US',
    auth: {
        refreshToken: localStorage.getItem('refreshToken'),
        saveFunction: tokenFunction
    }
})
```

An example of a configuration that is protected with a certificate allows you to configure the authorization system yourself and saves data on requests.
```js
const api = defineOneEntry('https://my-project.oneentry.cloud', {
    langCode:'en_US',
    traficLimit: true,
    auth: {
        customAuth: true,
        refreshToken: localStorage.getItem('refreshToken')
    }
})
```

If you have chosen to configure tokens yourself, you can pass the token to the method as follows.
The intermediate method allows you to pass an access token to the request. Then call the required method.
This method (setAccessToken) should not be called if the method does not require user authorization.
```js
const user = api.Users.setAccessToken('my.access.token').getUser()
```

>If you chose token protection to ensure connection security, just pass your token to the function as an optional parameter.

You can get a token as follows
1) Log in to your personal account
2) Go to the "Projects" tab and select a project
3) Go to the "Access" tab
4) Set the switch to "Security API Token"
5) Log in to the project, go to the settings section and open the token tab
6) Get and copy the token of your project

You can also connect a tls certificate to protect your project. In this case, do not pass the "token" at all. When using the certificate, set up a proxy in your project. Pass an empty string as an url parameter.
[Learn more about security](https://oneentry.cloud/instructions)


```js 
const saveTokenFromLocalStorage = (token) => {
    localStorage.setItem('refreshToken', token)
}

const api = defineOneEntry('your-url', {
    token: 'my-token', 
    langCode:'my-langCode',
    auth: {
        customAuth: false,
        userToken: 'rerfesh.token',
        saveFunction: saveTokenFromLocalStorage
    }
})
```

Now you can use the following links to jump to specific entries:
- [Admins](#admins)
- [AttributesSets](#attributessets)
- [AuthProvider](#authprovider)
- [Blocks](#blocks)
- [Events](#events)
- [Forms](#forms)
- [FormData](#formdata)
- [FileUploading](#fileuploading)
- [GeneralTypes](#generaltypes)
- [Locales](#locales)
- [Menus](#menus)
- [Orders](#orders)
- [Pages](#pages)
- [Payments](#payments)
- [Products](#products)
- [ProductStatuses](#productstatuses)
- [System](#system)
- [Templates](#templates)
- [TemplatePreviews](#templatepreviews)
- [Users](#users)


## <h2 id="admins"> Admins </h2>


```js
const { Admins } = defineOneEntry('your-url');
```

### Admins.getAdminsInfo(langCode, offset, limit)


```js
const value = await Admins.getAdminsInfo('en_US', 0, 30)
```


> This method retrieves all user objects of type admin from the API. It returns a Promise that resolves to an array of AdminEntity objects.


Example return:

```json
[
  {
    "id": 1764,
    "identifier": "admin1",
    "attributeSetId": 7,
    "isSync": false,
    "attributeValues": {
      "marker": {
        "value": "",
        "type": "string"
      }
    },
    "position": 192
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier*<br>
example: 1764 <br>

**identifier:**	string <br>
*textual identifier for the record field* <br>
example: admin1 <br>
default: admin1 <br>

**attributeSetId:**	number <br>
*Attribute set identifier* <br>
example: 7<br>

**isSync**	boolean <br>
*Page indexing flag (true or false)* <br>
example: false <br>

**attributeValues:** Record<string, string> <br>
*Array of attribute values from the index (presented as a pair of user attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**position:** number <br>
*Position number (for sorting)* <br>
example: 192 <br>

</details>

---



## <h2 id="attributessets"> AttributesSets </h2>

```js
const { AttributesSets } = defineOneEntry('your-url');
```

### AttributesSets.getAttributesByMarker(marker, langCode)

```js
const value = await AttributesSets.getAttributesByMarker('my-marker', 'en_US')
```

> This method return all attributes with data from the attribute sets.


Example return:


```json
[
  {
    "type": "list",
    "marker": "list1",
    "position": 192,
    "validators": {
      "requiredValidator": {
        "strict": true
      },
      "defaultValueValidator": {
        "fieldDefaultValue": 11
      }
    },
    "localizeInfos": {
      "title": "My attribute"
    },
    "listTitles": [
      {
        "title": "red",
        "value": 1,
        "position": 1,
        "extended": {
          "value": null,
          "type": null
        }
      },
      {
        "title": "yellow",
        "value": 2,
        "position": 2,
        "extended": {
          "value": null,
          "type": null
        }
      }
    ]
  }
]
```

<details>
<summary>Schema</summary>

**type:** string <br>
*attribute type* <br>
example: list <br>

**marker:**	string <br>
*textual identifier of the attribute (marker)* <br>
Enum:
[ string, text, textWithHeader, integer, real, float, dateTime, date, time, file, image, groupOfImages, radioButton, list, button ] <br>
example: list1 <br>

**position:** number <br>
*position number for sorting* <br>
example: 192 <br>

**validators:**	Record<string, any> <br>
*set of validators for validation* <br>
example: OrderedMap { "requiredValidator": OrderedMap { "strict": true }, "defaultValueValidator": OrderedMap { "fieldDefaultValue": 11 } } <br>

**localizeInfos:**	Record<string, any> <br>
*localization data for the set (name)* <br>
example: OrderedMap { "title": "My attribute" } <br>

**listTitles**	Record<string, any> <br>
*array of values (with extended data) for list and radioButton attributes* <br>
example: List [ OrderedMap { "title": "red", "value": 1, "position": 1, "extendedValue": null, "extendedValueType": null }, OrderedMap { "title": "yellow", "value": 2, "position": 2, "extendedValue": null, "extendedValueType": null } ] <br>

</details>


### AttributesSets.getSingleAttributeByMarkerSet(attributeMarker, setMarker, langCode)

```js
const value = await AttributesSets.getSingleAttributeByMarkerSet('list1', 'list1', 'en_US')
```

> This method return a single attribute with data from the attribute sets.


Example return:

```json
{
  "type": "list",
  "marker": "list1",
  "position": 192,
  "validators": {
    "requiredValidator": {
      "strict": true
    },
    "defaultValueValidator": {
      "fieldDefaultValue": 11
    }
  },
  "localizeInfos": {
    "title": "My attribute"
  },
  "listTitles": [
    {
      "title": "red",
      "value": 1,
      "position": 1,
      "extended": {
        "value": null,
        "type": null
      }
    },
    {
      "title": "yellow",
      "value": 2,
      "position": 2,
      "extended": {
        "value": null,
        "type": null
      }
    }
  ]
}
```
<details>
<summary>Schema</summary>

**type:** string <br>
*attribute type* <br>
example: list <br>

**marker:**	string <br>
*textual identifier of the attribute (marker)* <br>
example: list1 <br>

**position:** number <br>
*position number for sorting* <br>
example: 192 <br>

**validators:**	Record<string, any> <br>
*set of validators for validation* <br>
example: OrderedMap { "requiredValidator": OrderedMap { "strict": true }, "defaultValueValidator": OrderedMap { "fieldDefaultValue": 11 } } <br>

**localizeInfos:**	Record<string, any> <br>
*localization data for the set (name)* <br>
example: OrderedMap { "title": "My attribute" } <br>

**listTitles**	Record<string, any> <br>
*array of values (with extended data) for list and radioButton attributes* <br>
example: List [ OrderedMap { "title": "red", "value": 1, "position": 1, "extendedValue": null, "extendedValueType": null }, OrderedMap { "title": "yellow", "value": 2, "position": 2, "extendedValue": null, "extendedValueType": null } ] <br>

</details>

---


## <h2 id="authprovider"> User Auth Provider </h2>

```js
const { AuthProvider } = defineOneEntry('your-url');
```

### AuthProvider.signUp(marker, data, langCode)


```js

const data = {
    "formIdentifier": "reg",
    "authData": [
        {
            "marker": "login",
            "value": "test"
        },
        {
            "marker": "password",
            "value": "12345"
        }
    ],
    "formData": [
        {
            "marker": "last_name",
            "type": "string",
            "value": "Username"
        }
    ],
    "notificationData": {
        "email": "test@test.com",
        "phonePush": "",
        "phoneSMS": "+99999999999"
    }
}

const value = await AuthProvider.signUp('email', data)
```

> This method will register a new user. Returns the registered user's object.

Example return:

```json
{
  "id": 1764,
  "updatedDate": "2024-05-23T12:43:00.169Z",
  "version": 10,
  "identifier": "catalog",
  "isActive": false,
  "authProviderId": 1,
  "formData": [
      {
        "marker": "login",
        "value": "test"
      },
      {
        "marker": "f-name",
        "value": "Second name"
      }
  ],
  "notificationData": {
    "email": "test@test.com",
    "phonePush": "",
    "phoneSMS": "+9999999999"
  },
  "systemCode": {
    "value": "90BDCX",
    "expiredDate": "2024-05-07T21:02:00.000Z"
  }
}
```

<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier*
example: 1764 <br>

**updatedDate:** string <br>
*object modification date* <br>

**version:** number <br>
*object version number* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for the field record* <br>
example: catalog <br>
default: marker <br>

**attributeSetId:** number <br>
*identifier for the used attribute set* <br>
example: 7 <br>

**formData:** FormDataLangType <br>
*Data submitted by the form* <br>
example: OrderedMap { "en_US": List [ OrderedMap { "marker": "naimenovanie_1", "value": "Name" } ] } <br>

**notificationData:**	UserNotificationDataType <br>
*data for notifying the user* <br>
example:  OrderedMap { "email": "test@test.zone", "phonePush": "", "phoneSMS": "+79991234567" } <br>

**systemCode:**	string <br>
*system code for performing official actions (password reset, activation)* <br>
example: OrderedMap { "value": "90BDCX", "expiredDate": "2024-05-07T21:02:00.000Z" } <br>

**formIdentifier:** string <br>
*the text identifier of the authorization provider's form* <br>
example: reg_form <br>

**authData:**	FormAuthDataType  <br>
*authorization data taken from the form linked to the authorization provider* <br>
example:  List [ OrderedMap { "marker": "login", "value": "test" }, OrderedMap { "marker": "password", "value": "12345" } ] <br>

**authProviderId:** number <br>
*ID of the authorization provider* <br>
example: 1 <br>

</details>


### AuthProvider.generateCode(marker, userIdentifier, eventIdentifier)


```js
const value = await AuthProvider.generateCode('email', 'test@trer.com', 'auth')
```

> This method receives a code to activate the user. Code is returned through the corresponding user notification method


### AuthProvider.checkCode(marker, userIdentifier, code)

```js
const value = await AuthProvider.checkCode('email', 'example@oneentry.cloud', 'WTGC9E')
```

> This method checks the user's code. Returns true (if the code is correct) or false (if it is incorrect).

Example return:

```json
true
```


### AuthProvider.activateUser(marker, userIdentifier, code)

```js
const value = await AuthProvider.activateUser('email', 'example@oneentry.cloud', 'WTGC9E')
```

> This method activates the user by code. If successful, it will return true.

Example return:

```json
true
```

### AuthProvider.auth(marker, data)

```js
const data = {
    authData: [
        {
            marker: "login",
            value: "example@oneentry.cloud"
        },
        {
            marker: "password",
            value: "12345"
        }
    ]
}

const value = await AuthProvider.auth('email', data)
```

> This method performs user authorization. Returns an object with a set of tokens.

Example return:

```json
{
  "userIdentifier": "example@oneentry.cloud",
  "authProviderIdentifier": "email",
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiYXV0aFByb3ZpZGVySWRlbnRpZmllciI6ImVtYWlsIiwidXNlcklkZW50aWZpZXIiOiJ0ZXN0QHRlc3QucnUiLCJ1c2VyQWdlbnQiOiJQb3N0bWFuUnVudGltZS83LjM3LjMiLCJpYXQiOjE3MTQ1NTc2NzAsImV4cCI6MTcxNDU2MTI3MH0.vm74Ha-S37462CAF3QiDpO9b0OhlJFNDMKq4eEyoaB8",
  "refreshToken": "1714557670334-cb85112d-618d-4b2a-bad5-137b19c135b9"
}
```
<details>
<summary>Schema</summary>

**userIdentifier:**	string <br>
*user identifier*
example: example@oneentry.cloud <br>

**authProviderIdentifier:** string <br>
*auth provider identifier* <br>
example: email <br>

**accessToken:** string <br>
*access token* <br>
example:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiYXV0aFByb3ZpZGVySWRlbnRpZmllciI6ImVtYWlsIiwidXNlcklkZW50aWZpZXIiOiJ0ZXN0QHRlc3QucnUiLCJ1c2VyQWdlbnQiOiJQb3N0bWFuUnVudGltZS83LjM3LjMiLCJpYXQiOjE3MTQ1NTc2NzAsImV4cCI6MTcxNDU2MTI3MH0.vm74Ha-S37462CAF3QiDpO9b0OhlJFNDMKq4eEyoaB8 <br>

**refreshToken:** string <br>
*refresh token* <br>
example: 1714557670334-cb85112d-618d-4b2a-bad5-137b19c135b9 <br>

</details>


### AuthProvider.refresh(marker, token)

```js
const value = await AuthProvider.refresh('email', '1714557670334-cb85112d-618d-4b2a-bad5-137b19c135b9')
```

> This method updates the user's token. Returns an object with a set of tokens.

Example return:

```json
{
  "userIdentifier": "example@oneentry.cloud",
  "authProviderIdentifier": "email",
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiYXV0aFByb3ZpZGVySWRlbnRpZmllciI6ImVtYWlsIiwidXNlcklkZW50aWZpZXIiOiJ0ZXN0QHRlc3QucnUiLCJ1c2VyQWdlbnQiOiJQb3N0bWFuUnVudGltZS83LjM3LjMiLCJpYXQiOjE3MTQ1NTc2NzAsImV4cCI6MTcxNDU2MTI3MH0.vm74Ha-S37462CAF3QiDpO9b0OhlJFNDMKq4eEyoaB8",
  "refreshToken": "1714557670334-cb85112d-618d-4b2a-bad5-137b19c135b9"
}
```
<details>
<summary>Schema</summary>

**userIdentifier:**	string <br>
*user identifier*
example: example@oneentry.cloud <br>

**authProviderIdentifier:** string <br>
*auth provider identifier* <br>
example: email <br>

**accessToken:** string <br>
*access token* <br>
example:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiYXV0aFByb3ZpZGVySWRlbnRpZmllciI6ImVtYWlsIiwidXNlcklkZW50aWZpZXIiOiJ0ZXN0QHRlc3QucnUiLCJ1c2VyQWdlbnQiOiJQb3N0bWFuUnVudGltZS83LjM3LjMiLCJpYXQiOjE3MTQ1NTc2NzAsImV4cCI6MTcxNDU2MTI3MH0.vm74Ha-S37462CAF3QiDpO9b0OhlJFNDMKq4eEyoaB8 <br>

**refreshToken:** string <br>
*refresh token* <br>
example: 1714557670334-cb85112d-618d-4b2a-bad5-137b19c135b9 <br>

</details>


### AuthProvider.logout(marker, token)

```js
const value = await AuthProvider.logout('email', '1714557670334-cb85112d-618d-4b2a-bad5-137b19c135b9')
```

> This method performs a user logout. If successful, it will return true.

Example return:

```json
true
```

### AuthProvider.changePassword(marker, userIdentifier, type, code, newPassword, repeatPassword)

```js
const value = await AuthProvider.changePassword('email', 'example@oneentry.cloud', 1, 'EW32RF', 654321, 654321)
```

> This method changes the password of an authorized user. If successful, it will return true.

Example return:

```json
true
```


### AuthProvider.getAuthProviders(langCode, offset, limit)

```js
const value = await AuthProvider.getAuthProviders()
```

> This method gets all the objects of the authorization providers.

Example return:

```json
[
  {
    "id": 1,
    "localizeInfos": {
      "title": "email"
    },
    "config": {
      "deleteNoneActiveUsersAfterDays": 2,
      "systemCodeTlsSec": 120,
      "systemCodeLength": 8,
      "systemCodeOnlyNumbers": null
    },
    "version": 0,
    "identifier": "email",
    "type": "email",
    "formIdentifier": "reg",
    "isActive": true,
    "isCheckCode": false
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier*
example: 1764 <br>

**localizeInfos:**	CommonLocalizeInfos <br>
*block name with localization* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "My block" } } <br>

**version:** number <br>
*object version number* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for the field record* <br>
example: catalog <br>
default: marker <br>

**isActive:**	boolean  <br>
*Flag of usage* <br>
example: false <br>

**isCheckCode:**	boolean  <br>
*a sign of user activation via a code* <br>
example: false <br>

**type:**	string  <br>
*type of providere* <br>
example: email <br>

**formIdentifier:**	string  <br>
*the marker of the form used by the provider (may be null)* <br>
example: email <br>

</details>


### AuthProvider.getMarker(marker, langCode)

```js
const value = await AuthProvider.getMarker('email')
```

> Getting a single token authorization provider object.

Example return:

```json
[
  {
    "id": 1,
    "localizeInfos": {
      "title": "email"
    },
    "version": 0,
    "identifier": "email",
    "type": "email",
    "formIdentifier": "reg",
    "isActive": true,
    "isCheckCode": false,
    "config": {
      "deleteNoneActiveUsersAfterDays": 2,
      "systemCodeLength": 8,
      "systemCodeOnlyNumbers": null,
      "systemCodeTlsSec": 120
    }
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier*
example: 1764 <br>

**localizeInfos:**	CommonLocalizeInfos <br>
*block name with localization* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "My block" } } <br>

**version:** number <br>
*object version number* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for the field record* <br>
example: catalog <br>
default: marker <br>

**isActive:**	boolean  <br>
*Flag of usage* <br>
example: false <br>

**isCheckCode:**	boolean  <br>
*a sign of user activation via a code* <br>
example: false <br>

**type:**	string  <br>
*type of providere* <br>
example: email <br>

**formIdentifier:**	string  <br>
*the marker of the form used by the provider (may be null)* <br>
example: email <br>

</details>

---


## <h2 id="blocks"> Blocks </h2>

```js
const { Blocks } = defineOneEntry('your-url');
```

### Blocks.getBlocks(type, langCode, offset, limit)

```js
const value = await Blocks.getBlocks('forTextBlock')
```

> This method return array of all blocks object. Available values of type : forCatalogProducts, forBasketPage, forErrorPage, forCatalogPages, forProductPreview, forProductPage, forSimilarProductBlock, forStatisticProductBlock, forProductBlock, forForm, forFormField, forNewsPage, forNewsBlock, forNewsPreview, forOneNewsPage, forUsualPage, forTextBlock, forSlider, forOrder, service

Example return:

```json
[
  {
    "id": 1,
    "localizeInfos": {
      "title": "Block"
    },
    "version": 0,
    "position": 1,
    "identifier": "block",
    "type": "forTextBlock",
    "templateIdentifier": null,
    "isVisible": true,
    "attributeValues": {},
    "countElementsPerRow": 0
  }
]
```

<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier*
example: 1764 <br>

**attributeSetId:** number <br>
*identifier for the used attribute set* <br>
example: 7 <br>

**localizeInfos:**	CommonLocalizeInfos <br>
*block name with localization* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "My block" } } <br>

**customSettings:**	BlockCustomSettings <br>
*custom settings for different block types* <br>
example: OrderedMap { "sliderDelay": 0, "sliderDelayType": "", "productQuantity": 4, "productSortType": "By_ID", "productSortOrder": "Descending", "productCountElementsPerRow": 10, "similarProductRules": List [ OrderedMap { "property": "Descending", "includes": "", "keywords": "", "strict": "" } ] } <br>

**version:** number <br>
*object version number* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for the field record* <br>
example: catalog <br>
default: marker <br>

**position:** number <br>
*position number (for sorting)* <br>
example: 192 <br>

**attributeValues:**	Record<string, string> <br>
*array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**type:** string <br>
*block type* <br>
example: forNewsPage <br>

**templateIdentifier:**	string <br>
*template marker used by the block (can be null)* <br>
Enum:
[ forCatalogProducts, forBasketPage, forErrorPage, forCatalogPages, forProductPreview, forProductPage, forSimilarProductBlock, forStatisticProductBlock, forProductBlock, forForm, forFormField, forNewsPage, forNewsBlock, forNewsPreview, forOneNewsPage, forUsualPage, forTextBlock, forSlider, service ] <br>
example: null <br>

</details>
---


### Blocks.getBlockByMarker(marker, langCode)

```js
const value = await Blocks.getBlockByMarker('my-marker')
```

> This method return one blocks object by marker.

Example return:

```json
{
  "id": 1,
  "localizeInfos": {
    "title": "Block"
  },
  "version": 0,
  "position": 1,
  "identifier": "block",
  "type": "forTextBlock",
  "countElementsPerRow": 0,
  "templateIdentifier": null,
  "isVisible": true,
  "attributeValues": {}
}
```

<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier*
example: 1764 <br>

**attributeSetId:** number <br>
*identifier for the used attribute set* <br>
example: 7 <br>

**localizeInfos:**	CommonLocalizeInfos <br>
*block name with localization* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "My block" } } <br>

**customSettings:**	BlockCustomSettings <br>
*custom settings for different block types* <br>
example: OrderedMap { "sliderDelay": 0, "sliderDelayType": "", "productQuantity": 4, "productSortType": "By_ID", "productSortOrder": "Descending", "productCountElementsPerRow": 10, "similarProductRules": List [ OrderedMap { "property": "Descending", "includes": "", "keywords": "", "strict": "" } ] } <br>

**version:** number <br>
*object version number* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for the field record* <br>
example: catalog <br>
default: marker <br>

**position:** number <br>
*position number (for sorting)* <br>
example: 192 <br>

**attributeValues:**	Record<string, string> <br>
*array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**type:** string <br>
*block type* <br>
example: forNewsPage <br>

**templateIdentifier:**	string <br>
*template marker used by the block (can be null)* <br>
Enum:
[ forCatalogProducts, forBasketPage, forErrorPage, forCatalogPages, forProductPreview, forProductPage, forSimilarProductBlock, forStatisticProductBlock, forProductBlock, forForm, forFormField, forNewsPage, forNewsBlock, forNewsPreview, forOneNewsPage, forUsualPage, forTextBlock, forSlider, service ] <br>
example: null <br>

</details>
---

### Blocks.getSimilarProducts(marker, langCode, offset, limit)


```js
const value = await Blocks.getSimilarProducts('my-marker', 'en_US')
```

> This method return array of similar products from block by block marker.

Example return:

```json
[
  {
    "id": 2,
    "localizeInfos": {
      "title": "Box"
    },
    "statusIdentifier": "sold",
    "statusLocalizeInfos": {
      "title": "Sold"
    },
    "attributeSetIdentifier": "products",
    "position": 1,
    "templateIdentifier": null,
    "shortDescTemplateIdentifier": null,
    "price": 148,
    "additional": {
      "prices": {
        "min": 120,
        "max": 150
      }
    },
    "sku": null,
    "isSync": true,
    "attributeValues": {
      "price": {
        "type": "integer",
        "value": "148",
        "position": 1,
        "isProductPreview": false
      },
      "product-name": {
        "type": "string",
        "value": "Box text",
        "position": 0,
        "isProductPreview": false
      },
      "currency_products": {
        "type": "string",
        "value": "$",
        "position": 2,
        "isProductPreview": false
      }
    },
    "isVisible": true
  }
]
```



### Blocks.getProductsByBlockMarker(marker, langCode, offset, limit)

```js
const value = await Blocks.getProductsByBlockMarker('my-marker', 'en_US')
```

> This method return array of products from block by block marker.

Example return:

```json
[
  {
    "id": 3,
    "localizeInfos": {
      "title": "Product"
    },
    "statusIdentifier": null,
    "statusLocalizeInfos": {},
    "attributeSetIdentifier": "products",
    "position": 1,
    "templateIdentifier": null,
    "shortDescTemplateIdentifier": null,
    "price": 120,
    "additional": {
      "prices": {
        "min": 120,
        "max": 150
      }
    },
    "sku": null,
    "isSync": true,
    "attributeValues": {
      "price": {
        "type": "integer",
        "value": "120",
        "position": 1,
        "isProductPreview": false
      },
      "product-name": {
        "type": "string",
        "value": "Prod",
        "position": 0,
        "isProductPreview": false
      },
      "currency_products": {
        "type": "string",
        "value": "$",
        "position": 2,
        "isProductPreview": false
      }
    },
    "isVisible": true
  }
]
```

### Blocks.searchBlock(name, langCode)

```js
const value = await Blocks.searchBlock('my-marker', 'en_US')
```

> Quick search for block objects with limited output.

Example return:

```json
[
  {
    "id": 1,
    "name": "my block",
    "identifier": "my-block"
  }
]
```


---

## <h2 id="events"> Events </h2>

```js
const { Events } = defineOneEntry('your-url');
```

### Events.subscribeByMarker(marker, userId, productId)

```js
const value = await Events.subscribeByMarker('test_event', 1, 1)
```

> This method unsubscribes to the product event. Returns nothing if the unsubscription was successful.


### Events.unsubscribeByMarker(marker, userId, productId)

```js
const value = await Events.subscribeByMarker('test_event', 1, 1)
```

> This method subscribes to the product event. Returns nothing if the subscription was successful.

---


## <h2 id="fileuploading"> FileUploading </h2>

```js
const { FileUploading } = defineOneEntry('your-url');
```

### FileUploading.upload(data, fileQuery)

```js
const query = {
        type:"page",
        entity:"editor",
        id:3787,
        width:0,
        height:0,
        compress:true,
    }

const value = await FileUploading.upload(data, query)
```

> This method uploads a file to a cloud file storage. Pass to the date the value obtained from input type "file".
> Data is file object (or array), learn more - [File Object](https://developer.mozilla.org/en-US/docs/Web/API/File)

Example return:

```json
[
  {
    "filename": "string",
    "downloadLink": "string",
    "size": 0
  }
]
```

<details>
<summary>Schema</summary>

**filename:** string <br>
*filename with relative path* <br>

**downloadLink:** string <br>
*link for downloading the file* <br>

**size** number <br>
*size of the file in bytes* <br>

</details>

### FileUploading.delete(filename, fileQuery)

```js
const query = {
        type:"page",
        entity:"editor",
        id:3787
    }


const value = await FileUploading.delete("file.png", query)
```

> This void method delete a file from the cloud file storage. 

### FileUploading.getFile(id, type, entity, filename)

```js
const value = await FileUploading.getFile(123, 'page', 'editor', 'file.png')
```

> This method return file object by parameters.

Example return:

```json
{
  "file": "string"
}
```

---



## <h2 id="forms"> Forms </h2>


```js
const { Forms } = defineOneEntry('your-url');
```

### Forms.getAllForms(langCode, offset, limit)

```js
const value = await Forms.getAllForms('en_US', 0, 30)
```

> This method retrieves all form objects from the API. It returns a Promise that resolves to an array of FormEntity objects.

Example return:

```json
[
  {
    "id": 1764,
    "attributeSetId": 0,
    "processingType": "email",
    "localizeInfos": {
      "title": "My Form",
      "titleForSite": "",
      "successMessage": "",
      "unsuccessMessage": "",
      "urlAddress": "",
      "database": "0",
      "script": "0"
    },
    "processingData": "Unknown Type: ProcessingData",
    "version": 10,
    "type": "data",
    "identifier": "catalog",
    "position": 192,
    "attributes": [
      {
        "type": "list",
        "marker": "l1",
        "position": 2,
        "listTitles": [
          {
            "title": "red",
            "value": 1,
            "position": 1,
            "extendedValue": null,
            "extendedValueType": null
          },
          {
            "title": "yellow",
            "value": 2,
            "position": 2,
            "extendedValue": null,
            "extendedValueType": null
          }
        ],
        "validators": {},
        "localizeInfos": {
          "title": "l1"
        }
      }
    ]
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**attributeSetId:**	number <br>
*identifier of the attribute set used* <br>

**processingType:**	string <br>
*form processing type* <br>
example: email <br>

**localizeInfos:**	FormLocalizeInfos <br>
*form name with localization* <br>
Enum:
[ db, email, script ]
example: OrderedMap { "en_US": OrderedMap { "title": "My Form", "titleForSite": "", "successMessage": "", "unsuccessMessage": "", "urlAddress": "", "database": "0", "script": "0" } } <br>

**processingData:**	ProcessingData <br>
*form data* <br>

**version:** number <br>
*object version number* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for the record field* <br>
example: catalog <br>
default: marker <br>

**position:** number <br>
*position number (for sorting)* <br>
example: 192 <br>

**position:** string <br>
*Form type* <br>
example: 'data' <br>

**attributes:**	 <br>
*array of attribute values from the used attribute set for displaying the form (taking into account the specified language)* <br>
example: List [ OrderedMap { "type": "list", "marker": "l1", "position": 2, "listTitles": List [ OrderedMap { "title": "red", "value": 1, "position": 1, "extendedValue": null, "extendedValueType": null }, OrderedMap { "title": "yellow", "value": 2, "position": 2, "extendedValue": null, "extendedValueType": null } ], "validators": OrderedMap {}, "localizeInfos": OrderedMap { "title": "l1" } } ] <br>

</details>


### Forms.getFormByMarker(marker, langCode)

```js
const value = await Forms.getFormByMarker('My form', 'en_US')
```

> This method retrieves a single form object based on its textual identifier (marker) from the API. It returns a Promise that resolves to a FormEntity object.

Example return:

```json
{
  "id": 1764,
  "attributeSetId": 0,
  "processingType": "email",
  "localizeInfos": {
    "title": "My Form",
    "titleForSite": "",
    "successMessage": "",
    "unsuccessMessage": "",
    "urlAddress": "",
    "database": "0",
    "script": "0"
  },
  "processingData": "Unknown Type: ProcessingData",
  "version": 10,
  "type": "data",
  "identifier": "catalog",
  "position": 192,
  "attributes": [
    {
      "type": "list",
      "marker": "l1",
      "position": 2,
      "listTitles": [
        {
          "title": "red",
          "value": 1,
          "position": 1,
          "extendedValue": null,
          "extendedValueType": null
        },
        {
          "title": "yellow",
          "value": 2,
          "position": 2,
          "extendedValue": null,
          "extendedValueType": null
        }
      ],
      "validators": {},
      "localizeInfos": {
        "title": "l1"
      }
    }
  ]
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**attributeSetId:**	number <br>
*identifier of the attribute set used* <br>

**processingType:**	string <br>
*form processing type* <br>
example: email <br>

**localizeInfos:**	FormLocalizeInfos <br>
*form name with localization* <br>
Enum:
[ db, email, script ]
example: OrderedMap { "en_US": OrderedMap { "title": "My Form", "titleForSite": "", "successMessage": "", "unsuccessMessage": "", "urlAddress": "", "database": "0", "script": "0" } } <br>

**processingData:**	ProcessingData <br>
*form data* <br>

**version:** number <br>
*object version number* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for the record field* <br>
example: catalog <br>
default: marker <br>

**position:** number <br>
*position number (for sorting)* <br>
example: 192 <br>

**position:** string <br>
*Form type* <br>
example: 'data' <br>

**attributes:**	 <br>
*array of attribute values from the used attribute set for displaying the form (taking into account the specified language)* <br>
example: List [ OrderedMap { "type": "list", "marker": "l1", "position": 2, "listTitles": List [ OrderedMap { "title": "red", "value": 1, "position": 1, "extendedValue": null, "extendedValueType": null }, OrderedMap { "title": "yellow", "value": 2, "position": 2, "extendedValue": null, "extendedValueType": null } ], "validators": OrderedMap {}, "localizeInfos": OrderedMap { "title": "l1" } } ] <br>

</details>

---


## <h2 id="formdata"> FormData </h2>

```js
const { FormData } = defineOneEntry('your-url');
```

Methods with a post request accept as the request body an object with the form data field, which corresponds to the type of information being sent.
The following are examples of form data objects for different data types.

---
Example with a simple type attribute "string", "number", "float"
```json
{
        "marker": "last_name",
        "type": "string",
        "value": "Username"
      }
```

---
Example with a simple type attribute "date", "dateTime", "time"
```json
{
  "marker": "birthday",
  "type": "date",
  "value": {
    "fullDate": "2024-05-07T21:02:00.000Z",
    "formattedValue": "08-05-2024 00:02",
    "formatString": "DD-MM-YYYY HH:mm"
  }
}
```

---
Example with a simple type attribute "text"
```json
{
  "marker": "about",
  "type": "text",
  "value": {
    "htmlValue": "<p>Hello world</p>",
    "plainValue": "",
    "params": {
      "isEditorDisabled": false,
      "isImageCompressed": true
    }
  }
}
```

---
Example with a simple type attribute "text"
```json
{
  "marker": "about",
  "type": "text",
  "value": {
    "htmlValue": "<p>Hello world</p>",
    "plainValue": "",
    "params": {
      "isEditorDisabled": false,
      "isImageCompressed": true
    }
  }
}
```

---
Example with a simple type attribute "textWithHeader"
```json
{
  "marker": "about",
  "type": "textWithHeader",
  "value": {
    "header": "Headline",
    "htmlValue": "<p>Hello World</p>",
    "plainValue": "",
    "params": {
      "isEditorDisabled": false,
      "isImageCompressed": true
    }
  }
}
```

---
Example with a simple type attribute "image" or "groupOfImages"
```json
 {
  "marker": "avatar",
  "type": "image",
  "value": [
    {
      "filename": "files/project/page/10/image/Screenshot-from-2024-05-02-15-23-14.png",
      "downloadLink": "http://my-site.com/cloud-static/files/project/page/10/image/Screenshot-from-2024-05-02-15-23-14.png",
      "size": 392585,
      "previewLink": "",
      "params": {
        "isImageCompressed": true
      }
    }
  ]
}
```

---
Example with a simple type attribute "files"
```json
 {
  "marker": "picture",
  "type": "file",
  "value": [
    {
      "filename": "files/project/page/10/image/Screenshot-from-2024-05-02-15-23-14.png",
      "downloadLink": "http://my-site.com/cloud-static/files/project/page/10/image/Screenshot-from-2024-05-02-15-23-14.png",
      "size": 392585
    }
  ]
}
```

---
Example with a simple type attribute "radioButton" or "list"
```json
{
  "marker": "selector",
  "type": "list",
  "value": [
    {
      "title": "red",
      "value": "1",
      "extended": {
        "value": "red",
        "type": "string",
        "type": "string"
      }
    }
  ]
}
```



### FormData.postFormsData(data, langCode)

```js
const body = {
    formIdentifier: 'test',
    formData: {
        marker: 'test',
        value: 'Test',
        "type": "string"        
    },
}

const value = await FormData.postFormsData(body)
```

> This method retrieves all form data objects from the API. It returns a Promise that resolves to an array of objects of type CreateFormData. The method will add the default language to the request body. If you want to change the language, just pass it with the second argument 



Example return:

```json
{
  "id": 1764,
  "formIdentifier": "my-form",
  "time": "2023-02-12 10:56",
  "formData": {
    "marker": "name_1",
    "value": "Name",
    "type": "string"
  }
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**formIdentifier:**	string <br>
*Text identifier of the form object (marker)* <br>
example: my-form <br>

**time:** Date <br>
*Date and time of form modification* <br>
example: 2023-02-12 10:56 <br>

**formData:** FormDataLangType <br>
*Data submitted by the form* <br>
example: OrderedMap { "en_US": List [ OrderedMap { "marker": "naimenovanie_1", "value": "Name" } ] } <br>

</details>

### FormData.getFormsData(langCode, offset, limit)

```js
const value = await FormData.getFormsData('en_US', 0, 30)
```

> This method creates form data objects by sending a request to the API. It accepts an array of objects of type IFormsPost as the request body to provide the necessary form data. It returns a Promise that resolves to the created CreateFormDataDto objects.

Example return:

```json
{
  "id": 1764,
  "formIdentifier": "my-form",
  "time": "2023-02-12 10:56",
  "formData": {
    "marker": "name_1",
    "value": "Name",
    "type": "string"
  },
  "attributeSetIdentifier": "test-form"
}
```
---

<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**formIdentifier:**	string <br>
*Text identifier of the form object (marker)* <br>
example: my-form <br>

**time:** Date <br>
*Date and time of form modification* <br>
example: 2023-02-12 10:56 <br>

**formData:** FormDataLangType <br>
*Data submitted by the form* <br>
example: OrderedMap { "en_US": List [ OrderedMap { "marker": "naimenovanie_1", "value": "Name" } ] } <br>

**attributeSetIdentifier:**	string <br>
*text identifier (marker) of the used attribute set* <br>
example: test-form <br>

</details>


### FormData.getFormsDataByMarker(marker, langCode, offset, limit)

```js
const value = await FormData.getFormsDataByMarker('my-marker', 'en_US', 0, 30)
```

> This method retrieves a specific form data object by its marker from the API. It accepts a marker parameter as the marker of the form data. It returns a Promise that resolves to an array of objects of type FormDataEntity.

Example return:

```json
{
  "id": 1764,
  "formIdentifier": "my-form",
  "time": "2023-02-12 10:56",
  "formData": {
     "marker": "name_1",
     "value": "Name",
    "type": "string"
  },
  "attributeSetIdentifier": "test-form"
}
```

<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**formIdentifier:**	string <br>
*Text identifier of the form object (marker)* <br>
example: my-form <br>

**time:** Date <br>
*Date and time of form modification* <br>
example: 2023-02-12 10:56 <br>

**formData:** FormDataLangType <br>
*Data submitted by the form* <br>
example: OrderedMap { "en_US": List [ OrderedMap { "marker": "naimenovanie_1", "value": "Name" } ] } <br>

**attributeSetIdentifier:**	string <br>
*text identifier (marker) of the used attribute set* <br>
example: test-form <br>

</details>

---


## <h2 id="generaltypes"> GeneralTypes </h2>

```js
const { GeneralTypes } = defineOneEntry('your-url');
```

### GeneralTypes.getAllTypes()

```js
const value = await GeneralTypes.getAllTypes()
```

> This method retrieves all objects of type GeneralTypeEntity from the API. It returns a Promise that resolves to an array of GeneralTypeEntity objects.

Example return:

```json
[
  {
    "id": 1,
    "type": "forNewsPage"
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**type:** string <br>
*type value* <br>
example: forNewsPage <br>
Enum:
[ forCatalogProducts, forBasketPage, forErrorPage, forCatalogPages, forProductPreview, forProductPage, forSimilarProductBlock, forStatisticProductBlock, forProductBlock, forForm, forFormField, forNewsPage, forNewsBlock, forNewsPreview, forOneNewsPage, forUsualPage, forTextBlock, forSlider, service ] <br>

</details>
---


## <h2 id="locales"> Locales </h2>

```js
const { Locales } = defineOneEntry('your-url');
```

### Locales.getLocales()

```js
const value = await Locales.getLocales()
```

> This method retrieves all active language localization objects from the API. It returns a Promise that resolves to an array of LocaleEntity objects.

Example return:

```json
[
    {
      "id": 1764,
      "shortCode": "en",
      "code": "en_US",
      "name": "Bengali",
      "nativeName": "à¦¬à¦¾à¦‚à¦²à¦¾",
      "isActive": false,
      "image": "ðŸ‡¦ðŸ‡¨",
      "position": 1
    }
]
```

<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**shortCode:**	string <br>
*language code (short)* <br>
example: en <br>

**code:**	string <br>
*language code with country code* <br>
example: en_US <br>

**name** string <br>
*Language name (in English)* <br>
example: Bengali <br>

**nativeName**	string <br>
*Language name (in native language)* <br>
example: à¦¬à¦¾à¦‚à¦²à¦¾ <br>

**isActive:**	boolean  <br>
*Flag of usage* <br>
example: false <br>

**image:**	string <br>
*Graphic image of the language (under development)* <br>
example: ðŸ‡¦ðŸ‡¨ <br>

**position:**	{
description:position number
} <br>
</details>
---



## <h2 id="menus"> Menus </h2>


```js
const { Menus } = defineOneEntry('your-url')
```

### Menus.getMenusByMarker(marker)

```js
const value = await Menus.getMenusByMarker('my-marker')
```

> This method retrieves a single menu object based on its marker (marker) from the API. It returns a Promise that resolves to a single menu object as a ContentMenuDto object with included pages.

Example return:

```json
{
  "id": 1764,
  "identifier": "catalog",
  "localizeInfos": {
    "title": "Main Menu"
  },
  "pages": [
    {
      "id": 11,
      "pageUrl": "122",
      "localizeInfos": {
        "title": "12",
        "content": "",
        "menuTitle": "12"
      },
      "position": 0,
      "parentId": null
    }
  ]
}
```

<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**identifier:**	string <br>
*textual identifier for a record field* <br>
example: catalog <br>

**localizeInfos**	Record<string, any> <br>
*json object description of the menu item with the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Main Menu" } } <br>

**pages:** <br>
*data of the pages included in the menu* <br>
example: List [ OrderedMap { "id": 11, "pageUrl": "122", "localizeInfos": OrderedMap { "en_US": OrderedMap { "title": "12", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "12" } }, "position": 0, "parentId": null } ] <br>
</details>

---



## <h2 id="orders"> Orders </h2>

```js
const { Orders } = defineOneEntry('your-url');
```

### Orders.getOrderByMarker(marker, langCode)

```js
const value = await Orders.getOrderByMarker('my-order')
```

> This method retrieves one order storage object by marker.

Example return:
```json
{
  "id": 2,
  "localizeInfos": {
    "title": "My order"
  },
  "position": 1,
  "identifier": "my_order",
  "formIdentifier": "orderForm",
  "generalTypeId": 21,
  "paymentAccountIdentifiers": [
    {
      "identifier": "cash"
    }
  ]
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**identifier** string <br>
*textual identifier for the record field* <br>
example: catalog <br>

**generalTypeId** number <br>
*type identifier* <br>
example: 4 <br>

**formIdentifier**	string <br>
*textual identifier for the form used by the order storage* <br>
example: catalog-form <br>

**paymentAccountIdentifiers** Array<{identifier:string} <br>
*array of textual identifiers of payment accounts used by the order storage* <br>
example:  [{ "identifier": "p1" }] <br>

</details>


### Orders.createOrder(marker, data, langCode)

```js
 const body = {
    "formIdentifier": "orderForm",
    "paymentAccountIdentifier": "cash",
    "formData": {
        "marker": "order_name",
        "value": "Ivan",
        "type": "string"
    },
    "products": [
        {
            "productId": 2,
            "quantity": 2
        }
    ]
}

const value = await Orders.createOrder('my-order', body)
```

> This method retrieves one order storage object by marker. The method will add the default language to the request body. If you want to change the language, just pass it with the second argument

Example return:
```json
{
  "formIdentifier": "bars",
  "paymentAccountIdentifier": "payment1",
  "statusIdentifier": "inprogress",
  "formData": [
      {
        "marker": "naimenovanie_1",
        "type": "string",
        "value": "Name"
      }
  ],
  "products": [
    {
      "productId": 1,
      "quantity": 2
    },
    {
      "productId": 2,
      "quantity": 3
    }
  ],
  "createdDate": "2024-06-21T09:42:54.848Z",
  "currency": "USD",
  "totalSum": 345
}
```
<details>
<summary>Schema</summary>

**statusIdentifier:**	string <br>
*text identifier of the order status* <br>
example: inprogress <br>

**formIdentifier:**	string <br>
*text identifier of the form status* <br>
example: order-form <br>

**paymentAccountIdentifier** string <br>
*text identifier of the order payment* <br>
example: payment-1 <br>

**formData** FormDataType <br>
*data submitted by the form linked to the order store* <br>
example: [{ "marker": "name_1", "value": "Name" } ] <br>

**products**	Record<string, string | any>[] <br>
*array of products added to order* <br>

**totalSum** string <br>
*total order amount* <br>
example:  12.00 <br>

**currency** string <br>
*currency used to pay for the order* <br>
example: USD <br>

**createdDate** string <br>
*date when the order was created* <br>
example: 2023-01-01 12:12 <br>

</details>


### Orders.updateOrderByMarkerAndId(marker, data, langCode)

```js
const body = {
    "formIdentifier": "orderForm",
    "paymentAccountIdentifier": "cash",
    "formData": {
        "marker": "order_name",
        "value": "Ivan",
        "type": "string"
    },
    "products": [
        {
            "productId": 2,
            "quantity": 2
        }
    ]
}

const value = await Orders.updateOrderByMarkerAndId('my-order', body)
```

> This method update one order storage object by marker. The method will add the default language to the request body. If you want to change the language, just pass it with the second argument

Example return:
```json
{
  "formIdentifier": "bars",
  "paymentAccountIdentifier": "payment1",
  "statusIdentifier": "inprogress",
  "formData": [
      {
        "marker": "naimenovanie_1",
        "type": "string",
        "value": "Name"
      }
  ],
  "products": [
    {
      "productId": 1,
      "quantity": 2
    },
    {
      "productId": 2,
      "quantity": 3
    }
  ],
  "createdDate": "2024-06-21T09:42:54.848Z",
  "currency": "USD",
  "totalSum": 345
}
```
<details>
<summary>Schema</summary>

**statusIdentifier:**	string <br>
*text identifier of the order status* <br>
example: inprogress <br>

**formIdentifier:**	string <br>
*text identifier of the form status* <br>
example: order-form <br>

**paymentAccountIdentifier** string <br>
*text identifier of the order payment* <br>
example: payment-1 <br>

**formData** FormDataType <br>
*data submitted by the form linked to the order store* <br>
example: [{ "marker": "name_1", "value": "Name" } ] <br>

**products**	Record<string, string | any>[] <br>
*array of products added to order* <br>

**totalSum** string <br>
*total order amount* <br>
example:  12.00 <br>

**currency** string <br>
*currency used to pay for the order* <br>
example: USD <br>

**createdDate** string <br>
*date when the order was created* <br>
example: 2023-01-01 12:12 <br>

</details>


### Orders.getAllOrders(langCode, limit, offset)

```js
const value = await Orders.getAllOrders()
```

> This method getting all the order storage objects. The method will add the default language to the request body. If you want to change the language, just pass it with the second argument

Example return:
```json
[
  {
    "id": 1764,
    "localizeInfos": {
        "title": "Order 1"
    },
    "identifier": "catalog",
    "generalTypeId": 4,
    "formIdentifier": "catalog-form",
    "paymentAccountIdentifiers": [
      {
        "identifier": "p1"
      }
    ]
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**identifier** string <br>
*textual identifier for the record field* <br>
example: catalog <br>

**generalTypeId** number <br>
*type identifier* <br>
example: 4 <br>

**formIdentifier**	string <br>
*textual identifier for the form used by the order storage* <br>
example: catalog-form <br>

**paymentAccountIdentifiers** Array<{identifier:string} <br>
*array of textual identifiers of payment accounts used by the order storage* <br>
example:  [{ "identifier": "p1" }] <br>

</details>


### Orders.getAllOrdersByMarker(marker, langCode, limit, offset)

```js
const value = await Orders.getAllOrdersByMarker('my-order')
```

> This method getting all order storage object by marker. The method will add the default language to the request body. If you want to change the language, just pass it with the second argument

Example return:

```json
[
  {
    "id": 1764,
    "statusIdentifier": "inprogress",
    "formIdentifier": "order-form",
    "formData": [
      {
        "marker": "naimenovanie_1",
        "type": "string",
        "value": "Name"
      }
    ],
    "products": [
      {
        "id": 1,
        "title": "Laminate Floorwood Maxima, 9811 Oak Mistral",
        "sku": null,
        "price": "1.00",
        "quantity": 10,
        "previewImage": [
          {
            "filename": "files/project/page/36/image/20240322_77c83b02-4c82-4bea-80eb-3763c469b00e.jpg",
            "downloadLink": "http://my-site.zone/files/project/page/36/image/20240322_77c83b02-4c82-4bea-80eb-3763c469b00e.jpg",
            "size": 296391,
            "previewLink": ""
          }
        ]
      }
    ],
    "totalSum": "12.00",
    "currency": "USD",
    "createdDate": "2023-01-01 12:12",
    "paymentAccountIdentifier": "payment-1",
    "paymentAccountLocalizeInfos": {"title": "Account 1"
    },
    "isHistory": true
  }
]
```
<details>
<summary>Schema</summary>

**statusIdentifier:**	string <br>
*text identifier of the order status* <br>
example: inprogress <br>

**formIdentifier:**	string <br>
*text identifier of the form status* <br>
example: order-form <br>


**formData** FormDataType <br>
*data submitted by the form linked to the order store* <br>
example: [{ "marker": "name_1", "value": "Name" } ] <br>

**products**	Record<string, string | any>[] <br>
*array of products added to order* <br>

**totalSum** string <br>
*total order amount* <br>
example:  12.00 <br>

**currency** string <br>
*currency used to pay for the order* <br>
example: USD <br>

**createdDate** string <br>
*date when the order was created* <br>
example: 2023-01-01 12:12 <br>

**price** number <br>
*price of the product per unit (at the time of ordering)* <br>
example: 20.00 <br>

**paymentAccountIdentifier** string <br>
*textual identifier for the order payment* <br>
example: payment-1 <br>

**paymentAccountLocalizeInfos** CommonLocalizeInfos <br>
*payment account name considering localization* <br>
example: { "title": "Account 1" } <br>

**isHistory** boolean <br>
*indicates that the order has been saved in the order history* <br>
example: true <br>
</details>


---



## <h2 id="pages"> Pages </h2>


```js
const { Pages } = defineOneEntry('your-url');
```

### Pages.getRootPages(langCode)

```js
const value = await Pages.getRootPages('en_US')
```

> This method retrieves all top-level page objects from the API. It returns a Promise that resolves to an array of ContentIndexedPageDto objects or an empty array [] if there is no data. Get required language parameter.

Example return:

```json
[
  {
    "id": 1,
    "config": {},
    "depth": 0,
    "parentId": null,
    "pageUrl": "blog",
    "attributeSetIdentifier": "page",
    "localizeInfos": {
      "title": "Blog",
      "menuTitle": "Blog",
      "htmlContent": "",
      "plainContent": ""
    },
    "position": 1,
    "isVisible": true,
    "products": 0,
    "childrenCount": 1,
    "type": "forUsualPage",
    "templateIdentifier": "template",
    "isSync": true,
    "attributeValues": {
      "text": {
        "type": "string",
        "value": "some text",
        "position": 0
      }
    }
  }
]
```

<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**parentId** number <br>
*parent page identifier, if null, it is a top-level page* <br>
example: null <br>

**config**	Record<string, number> <br>
*output settings for catalog pages* <br>
example: OrderedMap { "rowsPerPage": 1, "productsPerRow": 1 } <br>

**pageUrl**	string <br>
*unique page URL* <br>

**depth** number <br>
*page nesting depth relative to parentId* <br>
example: 3 <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**isVisible:**	boolean <br>
*Page visibility flag* <br>
example: true <br>

**products** number <br>
*Number of products linked to the page* <br>
example: 0 <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**forms**	 <br>
*Array of FormEntity object identifier values linked to the page (optional)* <br>


**blocks**	 <br>
*Array of BlockEntity object identifier values linked to the page (optional)* <br>


**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false <br>

**templateIdentifier:**	string <br>
*Custom identifier of the linked template* <br>
example: my-template <br>

**attributeValues:**	Record<string, string> <br>
*Array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**position:**	number <br>
*position number for sorting (optional)* <br>
example: 192 <br>

**type:**	string <br>
*Page type* <br>
example: forNewsPage <br>
Enum:
[ forCatalogProducts, forBasketPage, forErrorPage, forCatalogPages, forProductPreview, forProductPage, forSimilarProductBlock, forStatisticProductBlock, forProductBlock, forForm, forFormField, forNewsPage, forNewsBlock, forNewsPreview, forOneNewsPage, forUsualPage, forTextBlock, forSlider, service ] <br>


**childrenCount:**	number <br>
*number of nested pages* <br>
example: 0 <br>

</details>


### Pages.getPages(langCode)

```js
const value = await Pages.getPages('en_US')
```

> This method retrieves all created pages as an array from the API. It returns a Promise that resolves to an array of ContentIndexedPageDto objects or an empty array [] if there is no data. Get required language parameter.

Example return:

```json
[
  {
    "id": 2,
    "config": {},
    "depth": 0,
    "parentId": null,
    "pageUrl": "catalog",
    "attributeSetIdentifier": "page",
    "localizeInfos": {
      "title": "Catalog",
      "menuTitle": "Catalog",
      "htmlContent": "",
      "plainContent": ""
    },
    "position": 3,
    "isVisible": true,
    "products": 3,
    "childrenCount": 0,
    "type": "forCatalogPages",
    "templateIdentifier": "template",
    "isSync": true,
    "attributeValues": {
      "text": {
        "type": "string",
        "value": "catalog text",
        "position": 0
      }
    }
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**parentId** number <br>
*parent page identifier, if null, it is a top-level page* <br>
example: null <br>

**config**	Record<string, number> <br>
*output settings for catalog pages* <br>
example: OrderedMap { "rowsPerPage": 1, "productsPerRow": 1 } <br>

**pageUrl**	string <br>
*unique page URL* <br>

**depth** number <br>
*page nesting depth relative to parentId* <br>
example: 3 <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**isVisible:**	boolean <br>
*Page visibility flag* <br>
example: true <br>

**products** number <br>
*Number of products linked to the page* <br>
example: 0 <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**forms**	 <br>
*Array of FormEntity object identifier values linked to the page (optional)* <br>


**blocks**	 <br>
*Array of BlockEntity object identifier values linked to the page (optional)* <br>


**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false <br>

**templateIdentifier:**	string <br>
*Custom identifier of the linked template* <br>
example: my-template <br>

**attributeValues:**	Record<string, string> <br>
*Array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**position:**	number <br>
*position number for sorting (optional)* <br>
example: 192 <br>

**type:**	string <br>
*Page type* <br>
example: forNewsPage <br>
Enum:
[ forCatalogProducts, forBasketPage, forErrorPage, forCatalogPages, forProductPreview, forProductPage, forSimilarProductBlock, forStatisticProductBlock, forProductBlock, forForm, forFormField, forNewsPage, forNewsBlock, forNewsPreview, forOneNewsPage, forUsualPage, forTextBlock, forSlider, service ] <br>


**childrenCount:**	number <br>
*number of nested pages* <br>
example: 0 <br>

</details>

### Pages.getPageById(id, langCode)

```js
const value = await Pages.getPageById(1, 'en_US')
```

> This method retrieves a single page object based on its identifier (id) from the API. It returns a Promise that resolves to the page object, with the specific DTO depending on the type of page being returned. Get required language parameter.

Example return:

```json
{
  "id": 1,
  "parentId": null,
  "pageUrl": "blog",
  "depth": 0,
  "localizeInfos": {
    "title": "Blog",
    "menuTitle": "Blog",
    "htmlContent": "",
    "plainContent": ""
  },
  "isVisible": true,
  "forms": [],
  "blocks": [],
  "type": "forUsualPage",
  "templateIdentifier": "template",
  "attributeValues": {
    "text": {
      "type": "string",
      "value": "some text",
      "position": 0
    }
  },
  "isSync": true
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**parentId** number <br>
*parent page identifier, if null, it is a top-level page* <br>
example: null <br>

**pageUrl**	string <br>
*unique page URL* <br>

**depth** number <br>
*page nesting depth relative to parentId* <br>
example: 3 <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**isVisible:**	boolean <br>
*Page visibility flag* <br>
example: true <br>

**position:**	number <br>
*position number (for sorting)* <br>
example: 192 <br>

**type**	string <br>
*page type:* <br>
example: forNewsPage <br>
Enum:
[ forCatalogProducts, forBasketPage, forErrorPage, forCatalogPages, forProductPreview, forProductPage, forSimilarProductBlock, forStatisticProductBlock, forProductBlock, forForm, forFormField, forNewsPage, forNewsBlock, forNewsPreview, forOneNewsPage, forUsualPage, forTextBlock, forSlider, service ] <br>


**templateIdentifier:**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**forms**	 <br>
*Array of FormEntity object identifier values linked to the page (optional)* <br>


**blocks**	 <br>
*Array of BlockEntity object identifier values linked to the page (optional)* <br>


**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false <br>

**products** number <br>
*number of products associated with the page* <br>
example: 0 <br>

</details>

### Pages.getPageByUrl(url, langCode)

```js
const value = await Pages.getPageByUrl('shop', 'en_US')
```

> This method retrieves a single page object based on its URL (url) from the API. It returns a Promise that resolves to the page object, with the specific DTO depending on the type of page being returned. Get required language parameter.

Example return:

```json
{
  "id": 3,
  "parentId": 1,
  "pageUrl": "blog1",
  "depth": 1,
  "localizeInfos": {
    "title": "Blog 1",
    "menuTitle": "Blog 1",
    "htmlContent": "",
    "plainContent": ""
  },
  "isVisible": true,
  "forms": [],
  "blocks": [],
  "type": "forUsualPage",
  "templateIdentifier": null,
  "attributeValues": {},
  "isSync": false
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**parentId** number <br>
*parent page identifier, if null, it is a top-level page* <br>
example: null <br>

**pageUrl**	string <br>
*unique page URL* <br>

**depth** number <br>
*page nesting depth relative to parentId* <br>
example: 3 <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**isVisible:**	boolean <br>
*Page visibility flag* <br>
example: true <br>

**position:**	number <br>
*position number (for sorting)* <br>
example: 192 <br>

**type**	string <br>
*page type:* <br>
example: forNewsPage <br>
Enum:
[ forCatalogProducts, forBasketPage, forErrorPage, forCatalogPages, forProductPreview, forProductPage, forSimilarProductBlock, forStatisticProductBlock, forProductBlock, forForm, forFormField, forNewsPage, forNewsBlock, forNewsPreview, forOneNewsPage, forUsualPage, forTextBlock, forSlider, service ] <br>


**templateIdentifier:**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**forms**	 <br>
*Array of FormEntity object identifier values linked to the page (optional)* <br>


**blocks**	 <br>
*Array of BlockEntity object identifier values linked to the page (optional)* <br>


**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false

**products** number <br>
*number of products associated with the page* <br>
example: 0 <br>

</details>


### Pages.getChildPagesByParentUrl(url, langCode)

```js
const value = await Pages.getChildPagesByParentUrl('shop', 'en_US')
```

> Getting child pages with information about products in the form of an array. Returns all created pages as an array of AdminIndexedPageDto objects or an empty array [] (if there is no data) for the selected parent.

Example return:

```json
[
  {
    "id": 3,
    "config": {},
    "depth": 1,
    "parentId": 1,
    "pageUrl": "blog1",
    "attributeSetIdentifier": null,
    "localizeInfos": {
      "title": "Blog 1",
      "menuTitle": "Blog 1",
      "htmlContent": "",
      "plainContent": ""
    },
    "position": 1,
    "isVisible": true,
    "products": 0,
    "childrenCount": 0,
    "type": "forUsualPage",
    "templateIdentifier": null,
    "isSync": false,
    "attributeValues": {}
  }
]
```

<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**parentId** number <br>
*parent page identifier, if null, it is a top-level page* <br>
example: null <br>

**config**	Record<string, number> <br>
*output settings for catalog pages* <br>
example: OrderedMap { "rowsPerPage": 1, "productsPerRow": 1 } <br>

**pageUrl**	string <br>
*unique page URL* <br>

**depth** number <br>
*page nesting depth relative to parentId* <br>
example: 3 <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**isVisible:**	boolean <br>
*Page visibility flag* <br>
example: true <br>

**products** number <br>
*Number of products linked to the page* <br>
example: 0 <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**forms**	 <br>
*Array of FormEntity object identifier values linked to the page (optional)*


**blocks**	 <br>
*Array of BlockEntity object identifier values linked to the page (optional)*


**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false <br>

**templateIdentifier:**	string <br>
*Custom identifier of the linked template* <br>
example: my-template <br>

**attributeValues:**	Record<string, string> <br>
*Array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**position:**	number <br>
*position number for sorting (optional)* <br>
example: 192 <br>

**type:**	string <br>
*Page type* <br>
example: forNewsPage <br>
Enum:
[ forCatalogProducts, forBasketPage, forErrorPage, forCatalogPages, forProductPreview, forProductPage, forSimilarProductBlock, forStatisticProductBlock, forProductBlock, forForm, forFormField, forNewsPage, forNewsBlock, forNewsPreview, forOneNewsPage, forUsualPage, forTextBlock, forSlider, service ] <br>


**childrenCount:**	number <br>
*number of nested pages* <br>
example: 0 <br>

</details>


### Pages.getBlocksByPageUrl(url, langCode)

```js
const value = await Pages.getFormsByPageUrl('shop', 'en_US')
```

> Get PositionBlock objects for a related form by url. Returns an array of PositionBlock objects.

Example return:

```json
[
  {
    "id": 2,
    "localizeInfos": {
      "title": "test"
    },
    "attributeSetIdentifier": "block",
    "version": 0,
    "position": 2,
    "identifier": "test",
    "type": "forTextBlock",
    "templateIdentifier": null,
    "isVisible": true,
    "isSync": false,
    "attributeValues": {},
    "countElementsPerRow": 0
  }
]
```

<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**version**	number <br>
*object version number* <br>
example: 10 <br>

**identifier:**	string <br>
*text identifier for the record field* <br>
example: catalog <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**customSettings:**	BlockCustomSettings <br>
*custom settings for different types of blocks* <br>
example: OrderedMap { "sliderDelay": 0, "sliderDelayType": "", "productQuantity": 4, "productSortType": "By_ID", "productSortOrder": "Descending", "productCountElementsPerRow": 10, "similarProductRules": List [ OrderedMap { "property": "Descending", "includes": "", "keywords": "", "strict": "" } ] } <br>

**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false <br>

**attributeValues:**	Record<string, string> <br>
*Array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**position:**	number <br>
*position number for sorting (optional)* <br>
example: 192 <br>

**type:**	string <br>
*Page type* <br>
example: forNewsPage <br>
Enum:
[ forCatalogProducts, forBasketPage, forErrorPage, forCatalogPages, forProductPreview, forProductPage, forSimilarProductBlock, forStatisticProductBlock, forProductBlock, forForm, forFormField, forNewsPage, forNewsBlock, forNewsPreview, forOneNewsPage, forUsualPage, forTextBlock, forSlider, service ] <br>

**templateIdentifier:**	string <br>
*marker of the template used by the block (can be null)* <br>
example: null <br>

</details>


### Pages.getFormsByPageUrl(url, langCode)

```js
const value = await Pages.getFormsByPageUrl('shop', 'en_US')
```

> Get PositionForm objects for a related form by url. Returns an array of PositionForm objects.

Example return:

```json
[
  {
    "id": 1764,
    "version": 10,
    "identifier": "catalog",
    "attributeSetId": 0,
    "processingType": "email",
    "localizeInfos": {
      "title": "My form",
      "titleForSite": "",
      "successMessage": "",
      "unsuccessMessage": "",
      "urlAddress": "",
      "database": "0",
      "script": "0"
    },
    "processingData": {},
    "position": 0,
    "attributes": [
      {
        "type": "list",
        "marker": "l1",
        "position": 2,
        "listTitles": [
          {
            "title": "red",
            "value": 1,
            "position": 1,
            "extendedValue": null,
            "extendedValueType": null
          },
          {
            "title": "yellow",
            "value": 2,
            "position": 2,
            "extendedValue": null,
            "extendedValueType": null
          }
        ],
        "validators": {},
        "localizeInfos": {
          "title": "l1"
        }
      }
    ]
  }
]
```

<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**version**	number <br>
*object version number* <br>
example: 10 <br>

**identifier:**	string <br>
*text identifier for the record field* <br>
example: catalog <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**processingType:**	string <br>
*form processing type* <br>
example: email <br>
Enum:
[ db, email, script ] <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**processingData:**	 <br>
*form data* <br>


**attributes:**	Record<string, string> <br>
*array of attribute values from the used attribute set for displaying the form (taking into account the specified language)* <br>
example: List [ OrderedMap { "type": "list", "marker": "l1", "position": 2, "listTitles": List [ OrderedMap { "title": "red", "value": 1, "position": 1, "extendedValue": null, "extendedValueType": null }, OrderedMap { "title": "yellow", "value": 2, "position": 2, "extendedValue": null, "extendedValueType": null } ], "validators": OrderedMap {}, "localizeInfos": OrderedMap { "title": "l1" } } ] <br>

**position:**	number <br>
*position number for sorting (optional)* <br>
example: 192 <br>

</details>

### Pages.getConfigPageByUrl(url)

```js
const value = await Pages.getConfigPageByUrl('shop')
```

> This method retrieves the settings for a specific page based on its URL (url). It returns a Promise that resolves to a ConfigPageDto object with page display settings.

Example return:

```json
{
  "rowsPerPage": 10,
  "productsPerRow": 10
}
```
<details>
<summary>Schema</summary>

**rowsPerPage:** number <br>
*Number of rows per page* <br>
example: 10 <br>

**productsPerRow** number <br>
*Number of products per row* <br>
example: 10 <br>

</details>


### Pages.searchPage(name, langCode)

```js
const value = await Pages.searchPage('cup', 'en_US')
```

> This method performs a quick search for page objects based on a text query (name). It returns a Promise that resolves to a ContentIndexedPageDto objects or an empty array []. Get required language parameter.

Example return:

```json
[
  {
    "id": 2,
    "parentId": null,
    "pageUrl": "catalog",
    "depth": 0,
    "localizeInfos": {
      "title": "Catalog",
      "menuTitle": "Catalog",
      "htmlContent": "",
      "plainContent": ""
    },
    "isVisible": true,
    "forms": [],
    "blocks": [
      "test",
      "product_block"
    ],
    "type": "forCatalogPages",
    "templateIdentifier": "template",
    "attributeValues": {
      "text": {
        "type": "string",
        "value": "catalog text",
        "position": 0
      }
    },
    "products": 3,
    "isSync": true
  }
]
```

---


## <h2 id="payments"> Payments </h2>

```js
const { Payments } = defineOneEntry('your-url');
```

### Payments.getSessions(limit, offset)

```js
const value = await Payments.getSessions()
```

> This method get list of a payment session. It returns a Promise that resolves to a payment session object.

Example return:

```json
[
  {
    "id": 1764,
    "updatedDate": "2024-06-21T09:51:57.785Z",
    "type": "session",
    "status": "completed",
    "orderId": 1,
    "paymentAccountId": 1,
    "paymentUrl": "https://checkout.stripe.com/c/pay/cs_test_a1iOHnSWAmeN3SN5IgYtPv8Fzv48vGUmKxFuhxD0FOjkOaTAlgiwNY9OYW#fid2BXKsdWBEZmZqcGtxJz8nZGZmcVo0VTZjazFUb2Z8YEBRYkxHJyknZHVsTmB8Jz8ndW5acWB2cVowNEpKcW43TVVBa1NSMU5ST3JfY3VcRGlRSUR8cVx0XFxOXG9Cbn1oM1V0QUExR0RRRnJwV0FCYlNcXUtGdGtzcndgcmJxQVNkQnxvcDBTY0ZpUjZCd319UTU1ME5rXDJIVjYnKSdjd2poVmB3c2B3Jz9xd3BgKSdpZHxqcHFRfHVgJz8ndmxrYmlgWmxxYGgnKSdga2RnaWBVaWRmYG1qaWFgd3YnP3F3cGB4JSUl",
    "clientSecret": "pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGH"
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**updatedDate:** string <br>
*object modification date* <br>

**version:**	number <br>
*object modification version number* <br>
example: 10 <br>

**identifier:**	string <br>
*text identifier for the record field* <br>
example: catalog <br>

**type:**	string <br>
*type may be 'session' or 'intent'* <br>
example: session <br>

**lineItems:**	array <br>
*list of items* <br>

**orderId:**	number <br>
*order identifier* <br>
example: 1 <br>

**paymentAccountId:**	number <br>
*payment account object identifier* <br>
example: 1 <br>

**status:** string <br>
*payment status* <br>
example: completed <br>

**sessionId:** string <br>
*Payment ID from an external provider* <br>
example: 9BE88048TU058770M <br>

**paymentUrl:** string <br>
*payment link* <br>
example: https://www.sandbox.paypal.com/checkoutnow?token=9BE88048TU058770M <br>

**successUrl:**	string <br>
*redirect link after successful payment* <br>
example: https://example.com/success <br>

**cancelUrl**	string <br>
*redirect link after payment cancellation* <br>
example:  https://example.com/cancel <br>

**intent**	string <br>
example:  { "amount": 1, "currency": "usd" } <br>

**intentId**	number <br>
*intent object identifier* <br>
example:  1 <br>

**clientSecret**	string <br>
*client secret key* <br>
example:  pi_3Oyz2kQWzXG1R23w144qG7o4_secret_OeScuCwTpHmyOM1atbm7pWJw2 <br>

</details>


### Payments.getSessionById(id)

```js
const value = await Payments.getSessionById(1764)
```

> This method get a single payment session object by its identifier. It returns a Promise that resolves to a payment session object.

Example return:

```json
{
  "id": 1764,
  "updatedDate": "2024-06-21T09:51:57.785Z",
  "type": "session",
  "status": "completed",
  "orderId": 1,
  "paymentAccountId": 1,
  "paymentUrl": "https://checkout.stripe.com/c/pay/cs_test_a1iOHnSWAmeN3SN5IgYtPv8Fzv48vGUmKxFuhxD0FOjkOaTAlgiwNY9OYW#fid2BXKsdWBEZmZqcGtxJz8nZGZmcVo0VTZjazFUb2Z8YEBRYkxHJyknZHVsTmB8Jz8ndW5acWB2cVowNEpKcW43TVVBa1NSMU5ST3JfY3VcRGlRSUR8cVx0XFxOXG9Cbn1oM1V0QUExR0RRRnJwV0FCYlNcXUtGdGtzcndgcmJxQVNkQnxvcDBTY0ZpUjZCd319UTU1ME5rXDJIVjYnKSdjd2poVmB3c2B3Jz9xd3BgKSdpZHxqcHFRfHVgJz8ndmxrYmlgWmxxYGgnKSdga2RnaWBVaWRmYG1qaWFgd3YnP3F3cGB4JSUl",
  "clientSecret": "pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGH"
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**updatedDate:** string <br>
*object modification date* <br>

**version:**	number <br>
*object modification version number* <br>
example: 10 <br>

**identifier:**	string <br>
*text identifier for the record field* <br>
example: catalog <br>

**type:**	string <br>
*type may be 'session' or 'intent'* <br>
example: session <br>

**lineItems:**	array <br>
*list of items* <br>

**orderId:**	number <br>
*order identifier* <br>
example: 1 <br>

**paymentAccountId:**	number <br>
*payment account object identifier* <br>
example: 1 <br>

**status:** string <br>
*payment status* <br>
example: completed <br>

**sessionId:** string <br>
*Payment ID from an external provider* <br>
example: 9BE88048TU058770M <br>

**paymentUrl:** string <br>
*payment link* <br>
example: https://www.sandbox.paypal.com/checkoutnow?token=9BE88048TU058770M <br>

**successUrl:**	string <br>
*redirect link after successful payment* <br>
example: https://example.com/success <br>

**cancelUrl**	string <br>
*redirect link after payment cancellation* <br>
example:  https://example.com/cancel <br>

**intent**	string <br>
example:  { "amount": 1, "currency": "usd" } <br>

**intentId**	number <br>
*intent object identifier* <br>
example:  1 <br>

**clientSecret**	string <br>
*client secret key* <br>
example:  pi_3Oyz2kQWzXG1R23w144qG7o4_secret_OeScuCwTpHmyOM1atbm7pWJw2 <br>

</details>


### Payments.createSession(orderId, type, automaticTaxEnabled)

```js
const value = await Payments.createSession(1, 'session')
```

> This method creation of a payment session. It returns a Promise that resolves to a payment session object.

Example return:

```json
{
  "id": 1764,
  "updatedDate": "2024-06-21T09:53:28.898Z",
  "version": 10,
  "identifier": "my-id",
  "paymentUrl": "https://paymewntlink.com"
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**updatedDate:** string <br>
*object modification date* <br>

**version:**	number <br>
*object modification version number* <br>
example: 10 <br>

**identifier:**	string <br>
*text identifier for the record field* <br>
example: catalog <br>

**type:**	string <br>
*type may be 'session' or 'intent'* <br>
example: session <br>

**lineItems:**	array <br>
*list of items* <br>

**orderId:**	number <br>
*order identifier* <br>
example: 1 <br>

**paymentAccountId:**	number <br>
*payment account object identifier* <br>
example: 1 <br>

**status:** string <br>
*payment status* <br>
example: completed <br>

**sessionId:** string <br>
*Payment ID from an external provider* <br>
example: 9BE88048TU058770M <br>

**paymentUrl:** string <br>
*payment link* <br>
example: https://www.sandbox.paypal.com/checkoutnow?token=9BE88048TU058770M <br>

**successUrl:**	string <br>
*redirect link after successful payment* <br>
example: https://example.com/success <br>

**cancelUrl**	string <br>
*redirect link after payment cancellation* <br>
example:  https://example.com/cancel <br>

**intent**	string <br>
example:  { "amount": 1, "currency": "usd" } <br>

**intentId**	number <br>
*intent object identifier* <br>
example:  1 <br>

**clientSecret**	string <br>
*client secret key* <br>
example:  pi_3Oyz2kQWzXG1R23w144qG7o4_secret_OeScuCwTpHmyOM1atbm7pWJw2 <br>

</details>


### Payments.getConnected()

```js
const value = await Payments.getConnected()
```

> This method get payment settings. It returns a Promise that resolves to a payment connection object.

Example return:

```json
{
  "stripeAccountId": "acct_1OtRiIHTHOaLRCAa",
  "stripePublishableKey": "pk_51OOvk2HPDnVW5KWJwZfiYAlTLAytYqYYKYjGkxm6PqDD4BATCwuRDGgVYXNCqnvwrewgtDVaGyju5VfClW3GrxxT005KnY7MS3"
}
```
<details>
<summary>Schema</summary>

**stripeAccountId:**	string <br>
*Identifier of connected Stripe account* <br>
example: acct_1OtRiIHTHOaLRCAa <br>

**stripePublishableKey:**	string <br>
*Stripe Connect public key* <br>
example: pk_51OOvk2HPDnVW5KWJwZfiYAlTLAytYqYYKYjGkxm6PqDD4BATCwuRDGgVYXNCqnvwrewgtDVaGyju5VfClW3GrxxT005KnY7MS3 <br>

**paypalAccountId:**	string <br>
*Identifier of connected Paypal account* <br>
example: 4Q0BANTF5BE7N <br>

</details>


### Payments.getAccounts()

```js
const value = await Payments.getAccounts()
```

> This method get payment account as an array. It returns a Promise that resolves to a payment account object.

Example return:

```json
[
  {
    "id": 2,
    "localizeInfos": {
      "title": "Stripe"
    },
    "identifier": "stripe",
    "type": "stripe",
    "isVisible": true
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**updatedDate:**	string <br>
*object modification date* <br>

**version:**	number <br>
*object modification version number* <br>
example: 10 <br>

**identifier:**	string <br>
*text identifier for the recording field* <br>
example: catalog <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } <br>

**type:**	string <br>
*type may be 'stripe', 'paypal' or 'custom'* <br>
example: stripe <br>

**isVisible:**	boolean <br>
*visibility indicator of the payment account* <br>
example: true <br>

</details>


### Payments.getAccountById()

```js
const value = await Payments.getAccountById(1764)
```

> This method get a single payment account object by its identifier. It returns a Promise that resolves to a payment account object.

Example return:

```json
{
  "id": 2,
  "localizeInfos": {
    "title": "Stripe"
  },
  "identifier": "stripe",
  "type": "stripe",
  "isVisible": true
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**updatedDate:**	string <br>
*object modification date* <br>

**version:**	number <br>
*object modification version number* <br>
example: 10 <br>

**identifier:**	string <br>
*text identifier for the recording field* <br>
example: catalog <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } <br>

**type:**	string <br>
*type may be 'stripe', 'paypal' or 'custom'* <br>
example: stripe <br>

**isVisible:**	boolean <br>
*visibility indicator of the payment account* <br>
example: true <br>

</details>


### Payments.webhookStripe()

```js
const value = await Payments.webhookStripe()
```

> This method use webhook for Stripe. Returns true (in case of successful execution) or false (in case of unsuccessful execution).

---


## <h2 id="products"> Products </h2>


```js
const { Products } = defineOneEntry('your-url');
```

>This module accepts a set of user parameters called userQuery. If the parameters are not passed to the method, the default value will be applied.
>Some methods accept the body as a parameter for filtering. If you don't want to set up sorting, pass an empty array or don't pass anything.
Parameters:

```js
const userQuery = {
    offset: 0,
    limit: 30,
    statusMarker: null,
    conditionValue: null,
    conditionMarker: null,
    attributeMarker: null,
    sortOrder: 'DESC',
    sortKey: 'id'
}
```

"conditionMarker" by which values are filtered (not set by default), possible values:
> 'in' - Contains,
>
> 'nin' - Does not contain,
>
> 'eq' - Equal,
>
> 'neq' - Not equal,
>
> 'mth' - Greater than,
>
> 'lth' - Less than,
>
> 'exs' - Exists,
>
> 'nexs' - Does not exist


### Products.getProducts(body, langCode, userQuery)

```js
const body = [
    {
        "attributeMarker": "price",
        "conditionMarker": "mth",
        "statusMarker": "waiting",
        "conditionValue": 1,
        "pageUrls": [
            "23-laminat-floorwood-maxima"
        ]
    },
    {
        "attributeMarker": "price",
        "conditionMarker": "lth",
        "conditionValue": 3,
        "pageUrls": [
            "23-laminat-floorwood-maxima"
        ]
    }
]

const value = await Products.getProducts(body)
```

> This method searches for all products objects with pagination that do not have a category, based on the provided query parameters (userQuery). It returns a Promise that resolves to an array of items, where each item is a ContentIndexedProductDto object.

Example return:

```json
[
  {
    "id": 4,
    "localizeInfos": {
      "title": "Cosmo"
    },
    "statusIdentifier": null,
    "statusLocalizeInfos": {},
    "attributeSetIdentifier": "products",
    "position": 1,
    "templateIdentifier": null,
    "shortDescTemplateIdentifier": null,
    "price": 150,
    "additional": {
      "prices": {
        "min": 120,
        "max": 150
      }
    },
    "sku": null,
    "isSync": true,
    "attributeValues": {
      "price": {
        "type": "integer",
        "value": "150",
        "position": 1,
        "isProductPreview": false
      },
      "product-name": {
        "type": "string",
        "value": "Cosmo",
        "position": 0,
        "isProductPreview": false
      },
      "currency_products": {
        "type": "string",
        "value": "",
        "position": 2,
        "isProductPreview": false
      }
    },
    "isVisible": true
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**additional:**	Record<string, any> <br>
*additional value from the index* <br>
example: OrderedMap { "prices": OrderedMap { "min": 0, "max": 100 } } <br>

**statusLocalizeInfos:**	CommonLocalizeInfos <br>
*json description of the item status object, taking into account the language* <br>
example: {  "title": "Product" <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**isVisible:**	boolean <br>
*Page visibility flag* <br>
example: true <br>

**position:**	number <br>
*position number (for sorting)* <br>
example: 192 <br>

**templateIdentifier:**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**blocks:**	array <br>
*product blocks* <br>
example: ['product_block'] <br>

**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false <br>

**attributeValues:**	Record<string, string> <br>
*Array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**statusId:** number <br>
*status identifiers of the product page (can be null)* <br>
example: 1 <br>

**sku:** string <br>
*product SKU value taken from the index* <br>
example: 1 <br>

**relatedIds:** array <br>
*identifiers of related product pages* <br>
example: List [ 1, 2, 3 ] <br>

**price:**	number <br>
*price value of the product page taken from the index* <br>
example: 0 <br>

**templateIdentifier**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**shortDescTemplateIdentifier**	string <br>
*custom identifier of the associated template for short description* <br>
example: my-template-short <br>

</details>


### Products.getProductsEmptyPage(langCode, userQuery)

```js
const value = await Products.getProductsEmptyPage('en_US', userQuery)
```

> This method searches for product page objects with pagination that do not have a category, based on the provided query parameters (userQuery). It returns a Promise that resolves to an array of items, where each item is a ContentIndexedProductDto object.

Example return:

```json
[
  {
    "id": 4,
    "localizeInfos": {
      "title": "Cosmo"
    },
    "statusIdentifier": null,
    "statusLocalizeInfos": {},
    "attributeSetIdentifier": "products",
    "position": 1,
    "templateIdentifier": null,
    "shortDescTemplateIdentifier": null,
    "price": 150,
    "additional": {
      "prices": {
        "min": 120,
        "max": 150
      }
    },
    "sku": null,
    "isSync": true,
    "attributeValues": {
      "price": {
        "type": "integer",
        "value": "150",
        "position": 1,
        "isProductPreview": false
      },
      "product-name": {
        "type": "string",
        "value": "Cosmo",
        "position": 0,
        "isProductPreview": false
      },
      "currency_products": {
        "type": "string",
        "value": "",
        "position": 2,
        "isProductPreview": false
      }
    },
    "isVisible": true
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**additional:**	Record<string, any> <br>
*additional value from the index* <br>
example: OrderedMap { "prices": OrderedMap { "min": 0, "max": 100 } } <br>

**statusLocalizeInfos:**	CommonLocalizeInfos <br>
*json description of the item status object, taking into account the language* <br>
example: {  "title": "Product" <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**isVisible:**	boolean <br>
*Page visibility flag* <br>
example: true <br>

**position:**	number <br>
*position number (for sorting)* <br>
example: 192 <br>

**templateIdentifier:**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**blocks:**	array <br>
*product blocks* <br>
example: ['product_block'] <br>

**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false <br>

**attributeValues:**	Record<string, string> <br>
*Array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**statusId:** number <br>
*status identifiers of the product page (can be null)* <br>
example: 1 <br>

**sku:** string <br>
*product SKU value taken from the index* <br>
example: 1 <br>

**relatedIds:** array <br>
*identifiers of related product pages* <br>
example: List [ 1, 2, 3 ] <br>

**price:**	number <br>
*price value of the product page taken from the index* <br>
example: 0 <br>

**templateIdentifier**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**shortDescTemplateIdentifier**	string <br>
*custom identifier of the associated template for short description* <br>
example: my-template-short <br>

</details>


### Products.getProductsByPageId(id, body, langCode, userQuery)

```js
const body = [
    {
        "attributeMarker": "price",
        "conditionMarker": "mth",
        "statusMarker": "waiting",
        "conditionValue": 1,
        "pageUrls": [
            "23-laminat-floorwood-maxima"
        ]
    },
    {
        "attributeMarker": "price",
        "conditionMarker": "lth",
        "conditionValue": 3,
        "pageUrls": [
            "23-laminat-floorwood-maxima"
        ]
    }
]

const value = await Products.getProductsByPageId(1764, body)
```

> This method searches for all products objects with pagination for the selected category, based on the provided query parameters (userQuery). It returns a Promise that resolves to an array of items, where each item is a ContentIndexedProductDto object.

Example return:

```json
[
  {
    "id": 2,
    "localizeInfos": {
      "title": "Box"
    },
    "statusIdentifier": "sold",
    "statusLocalizeInfos": {
      "title": "Sold"
    },
    "attributeSetIdentifier": "products",
    "position": 3,
    "templateIdentifier": null,
    "shortDescTemplateIdentifier": null,
    "price": 148,
    "additional": {
      "prices": {
        "min": 120,
        "max": 150
      }
    },
    "sku": null,
    "isSync": true,
    "attributeValues": {
      "price": {
        "type": "integer",
        "value": "148",
        "position": 1,
        "isProductPreview": false
      },
      "product-name": {
        "type": "string",
        "value": "Box text",
        "position": 0,
        "isProductPreview": false
      },
      "currency_products": {
        "type": "string",
        "value": "$",
        "position": 2,
        "isProductPreview": false
      }
    },
    "isVisible": true,
    "isPositionLocked": false
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**additional:**	Record<string, any> <br>
*additional value from the index* <br>
example: OrderedMap { "prices": OrderedMap { "min": 0, "max": 100 } } <br>

**statusLocalizeInfos:**	CommonLocalizeInfos <br>
*json description of the item status object, taking into account the language* <br>
example: {  "title": "Product" <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**isVisible:**	boolean <br>
*Page visibility flag* <br>
example: true <br>

**position:**	number <br>
*position number (for sorting)* <br>
example: 192 <br>

**templateIdentifier:**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**blocks:**	array <br>
*product blocks* <br>
example: ['product_block'] <br>

**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false <br>

**attributeValues:**	Record<string, string> <br>
*Array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**statusId:** number <br>
*status identifiers of the product page (can be null)* <br>
example: 1 <br>

**sku:** string <br>
*product SKU value taken from the index* <br>
example: 1 <br>

**relatedIds:** array <br>
*identifiers of related product pages* <br>
example: List [ 1, 2, 3 ] <br>

**price:**	number <br>
*price value of the product page taken from the index* <br>
example: 0 <br>

**templateIdentifier**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**shortDescTemplateIdentifier**	string <br>
*custom identifier of the associated template for short description* <br>
example: my-template-short <br>

</details>


### Products.getProductsPriceByPageUrl(url, userQuery)

```js
const value = await Products.getProductsPriceByPageUrl('catalog')
```

> This method searches for information about products and prices for the selected category, based on the provided query parameters (userQuery). It returns a Promise that resolves to an array of items, where each item is a ContentIndexedProductDto object.

Example return:

```json
[
  {
    "id": 1764,
    "price": 0
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**price:**	number <br>
*price value of the product page taken from the index* <br>
example: 0 <br>

</details>


### Products.getProductsByPageUrl(url, body, langCode, userQuery)

```js
const body = [
    {
        "attributeMarker": "price",
        "conditionMarker": "mth",
        "statusMarker": "waiting",
        "conditionValue": 1,
        "pageUrls": [
            "23-laminat-floorwood-maxima"
        ]
    },
    {
        "attributeMarker": "price",
        "conditionMarker": "lth",
        "conditionValue": 3,
        "pageUrls": [
            "23-laminat-floorwood-maxima"
        ]
    }
]

const value = await Products.getProductsByPageUrl('catalog', body)
```

> This method searches for all products objects with pagination for the selected category, based on the provided query parameters (userQuery). It returns a Promise that resolves to an array of items, where each item is a ContentIndexedProductDto object.

Example return:

```json
[
  {
    "id": 2,
    "localizeInfos": {
      "title": "Box"
    },
    "statusIdentifier": "sold",
    "statusLocalizeInfos": {
      "title": "Sold"
    },
    "attributeSetIdentifier": "products",
    "position": 3,
    "templateIdentifier": null,
    "shortDescTemplateIdentifier": null,
    "price": 148,
    "additional": {
      "prices": {
        "min": 120,
        "max": 150
      }
    },
    "sku": null,
    "isSync": true,
    "attributeValues": {
      "price": {
        "type": "integer",
        "value": "148",
        "position": 1,
        "isProductPreview": false
      },
      "product-name": {
        "type": "string",
        "value": "Box text",
        "position": 0,
        "isProductPreview": false
      },
      "currency_products": {
        "type": "string",
        "value": "$",
        "position": 2,
        "isProductPreview": false
      }
    },
    "isVisible": true,
    "isPositionLocked": false
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**additional:**	Record<string, any> <br>
*additional value from the index* <br>
example: OrderedMap { "prices": OrderedMap { "min": 0, "max": 100 } } <br>

**statusLocalizeInfos:**	CommonLocalizeInfos <br>
*json description of the item status object, taking into account the language* <br>
example: {  "title": "Product" <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**isVisible:**	boolean <br>
*Page visibility flag* <br>
example: true <br>

**position:**	number <br>
*position number (for sorting)* <br>
example: 192 <br>

**templateIdentifier:**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**blocks:**	array <br>
*product blocks* <br>
example: ['product_block'] <br>

**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false <br>

**attributeValues:**	Record<string, string> <br>
*Array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**statusId:** number <br>
*status identifiers of the product page (can be null)* <br>
example: 1 <br>

**sku:** string <br>
*product SKU value taken from the index* <br>
example: 1 <br>

**relatedIds:** array <br>
*identifiers of related product pages* <br>
example: List [ 1, 2, 3 ] <br>

**price:**	number <br>
*price value of the product page taken from the index* <br>
example: 0 <br>

**templateIdentifier**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**shortDescTemplateIdentifier**	string <br>
*custom identifier of the associated template for short description* <br>
example: my-template-short <br>

</details>


### Products.getRelatedProductsById(id, langCode, userQuery)

```js
const value = await Products.getRelatedProductsById(1, 'en_US', {limit:20, offset:1})
```

> This method retrieves all related product page objects for a specific product based on its identifier (id) from the API. It accepts an optional userQuery parameter for additional query parameters such as limit, offset, sortOrder, and sortKey. It returns a Promise that resolves to an array of ContentIndexedProductDto objects.

Example return:

```json
{
  "id": 2,
  "localizeInfos": {
    "title": "Box"
  },
  "statusIdentifier": "sold",
  "statusLocalizeInfos": {
    "title": "Sold"
  },
  "attributeSetIdentifier": "products",
  "position": 3,
  "templateIdentifier": null,
  "shortDescTemplateIdentifier": null,
  "price": 148,
  "additional": {
    "prices": {
      "min": 120,
      "max": 150
    }
  },
  "sku": null,
  "isSync": true,
  "attributeValues": {
    "price": {
      "type": "integer",
      "value": "148",
      "position": 1,
      "isProductPreview": false
    },
    "product-name": {
      "type": "string",
      "value": "Box text",
      "position": 0,
      "isProductPreview": false
    },
    "currency_products": {
      "type": "string",
      "value": "$",
      "position": 2,
      "isProductPreview": false
    }
  },
  "isVisible": true,
  "isPositionLocked": false
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**additional:**	Record<string, any> <br>
*additional value from the index* <br>
example: OrderedMap { "prices": OrderedMap { "min": 0, "max": 100 } } <br>

**statusLocalizeInfos:**	CommonLocalizeInfos <br>
*json description of the item status object, taking into account the language* <br>
example: {  "title": "Product" <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**isVisible:**	boolean <br>
*Page visibility flag* <br>
example: true <br>

**position:**	number <br>
*position number (for sorting)* <br>
example: 192 <br>

**templateIdentifier:**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**blocks:**	array <br>
*product blocks* <br>
example: ['product_block'] <br>

**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false <br>

**attributeValues:**	Record<string, string> <br>
*Array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**statusId:** number <br>
*status identifiers of the product page (can be null)* <br>
example: 1 <br>

**sku:** string <br>
*product SKU value taken from the index* <br>
example: 1 <br>

**relatedIds:** array <br>
*identifiers of related product pages* <br>
example: List [ 1, 2, 3 ] <br>

**price:**	number <br>
*price value of the product page taken from the index* <br>
example: 0 <br>

**templateIdentifier**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**shortDescTemplateIdentifier**	string <br>
*custom identifier of the associated template for short description* <br>
example: my-template-short <br>

</details>

### Products.getProductById(id, langCode)

```js
const value = await Products.getProductById(1, 'en_US')
```

> This method retrieves a single product object based on its identifier (id) from the API. It returns a Promise that resolves to a ContentIndexedProductDto object for the product.

Example return:

```json
{
  "id": 3,
  "localizeInfos": {
    "title": "Product"
  },
  "statusIdentifier": null,
  "statusLocalizeInfos": {},
  "attributeSetIdentifier": "products",
  "position": 1,
  "templateIdentifier": null,
  "shortDescTemplateIdentifier": null,
  "price": 120,
  "additional": {
    "prices": {
      "min": 120,
      "max": 150
    }
  },
  "sku": null,
  "isSync": true,
  "attributeValues": {
    "price": {
      "type": "integer",
      "value": "120",
      "position": 1,
      "isProductPreview": false
    },
    "product-name": {
      "type": "string",
      "value": "Prod",
      "position": 0,
      "isProductPreview": false
    },
    "currency_products": {
      "type": "string",
      "value": "$",
      "position": 2,
      "isProductPreview": false
    }
  },
  "isVisible": true,
  "productPages": {
    "id": 3,
    "pageId": 2,
    "productId": 3,
    "positionId": 215
  },
  "blocks": [
    "product_block",
    "another"
  ]
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**additional:**	Record<string, any> <br>
*additional value from the index* <br>
example: OrderedMap { "prices": OrderedMap { "min": 0, "max": 100 } } <br>

**statusLocalizeInfos:**	CommonLocalizeInfos <br>
*json description of the item status object, taking into account the language* <br>
example: {  "title": "Product" <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**isVisible:**	boolean <br>
*Page visibility flag* <br>
example: true <br>

**position:**	number <br>
*position number (for sorting)* <br>
example: 192 <br>

**templateIdentifier:**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**blocks:**	array <br>
*product blocks* <br>
example: ['product_block'] <br>

**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false <br>

**attributeValues:**	Record<string, string> <br>
*Array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**statusId:** number <br>
*status identifiers of the product page (can be null)* <br>
example: 1 <br>

**sku:** string <br>
*product SKU value taken from the index* <br>
example: 1 <br>

**relatedIds:** array <br>
*identifiers of related product pages* <br>
example: List [ 1, 2, 3 ] <br>

**price:**	number <br>
*price value of the product page taken from the index* <br>
example: 0 <br>

**templateIdentifier**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**shortDescTemplateIdentifier**	string <br>
*custom identifier of the associated template for short description* <br>
example: my-template-short <br>

</details>


### Products.getProductBlockById(id)

```js
const value = await Products.getProductBlockById(1764)
```

> This method Getting a product block object by product id.

Example return:

```json
[
  {
    "id": 3,
    "attributeSetIdentifier": null,
    "localizeInfos": {
      "title": "Product block"
    },
    "version": 0,
    "position": 1,
    "identifier": "product_block",
    "type": "forProductBlock",
    "customSettings": {
      "productConfig": {
        "quantity": "1",
        "countElementsPerRow": "1"
      },
      "similarProductRules": [],
      "condition": {
        "name": "cost",
        "costTo": 130,
        "costFrom": 0
      },
      "sliderDelay": null,
      "sliderDelayType": null
    },
    "templateIdentifier": null,
    "isVisible": true,
    "isSync": false,
    "attributeValues": {}
  }
]
```

<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier*
example: 1764 <br>

**attributeSetId:** number <br>
*identifier for the used attribute set* <br>
example: 7 <br>

**localizeInfos:**	CommonLocalizeInfos <br>
*block name with localization* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "My block" } } <br>

**customSettings:**	BlockCustomSettings <br>
*custom settings for different block types* <br>
example: OrderedMap { "sliderDelay": 0, "sliderDelayType": "", "productQuantity": 4, "productSortType": "By_ID", "productSortOrder": "Descending", "productCountElementsPerRow": 10, "similarProductRules": List [ OrderedMap { "property": "Descending", "includes": "", "keywords": "", "strict": "" } ] } <br>

**version:** number <br>
*object version number* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for the field record* <br>
example: catalog <br>
default: marker <br>

**position:** number <br>
*position number (for sorting)* <br>
example: 192 <br>

**attributeValues:**	Record<string, string> <br>
*array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**type:** string <br>
*block type* <br>
example: forNewsPage <br>

**templateIdentifier:**	string <br>
*template marker used by the block (can be null)* <br>
Enum:
[ forCatalogProducts, forBasketPage, forErrorPage, forCatalogPages, forProductPreview, forProductPage, forSimilarProductBlock, forStatisticProductBlock, forProductBlock, forForm, forFormField, forNewsPage, forNewsBlock, forNewsPreview, forOneNewsPage, forUsualPage, forTextBlock, forSlider, service ] <br>
example: null <br>

</details>



### Products.searchProduct(name, langCode)

```js
const value = await Products.searchProduct('cup', 'en_US')
```

> This method performs a quick search for product page objects based on a text query name. The search is performed on the title field of the localizeInfos object, taking the specified lang language code into consideration. It returns a Promise that resolves to an array of ContentIndexedProductDto objects.

Example return:

```json
[
  {
    "id": 4,
    "localizeInfos": {
      "title": "Cosmo"
    },
    "statusIdentifier": null,
    "statusLocalizeInfos": {},
    "attributeSetIdentifier": "products",
    "position": 1,
    "templateIdentifier": null,
    "shortDescTemplateIdentifier": null,
    "price": 150,
    "additional": {
      "prices": {
        "min": 120,
        "max": 150
      }
    },
    "sku": null,
    "isSync": true,
    "attributeValues": {
      "price": {
        "type": "integer",
        "value": "150",
        "position": 1,
        "isProductPreview": false
      },
      "product-name": {
        "type": "string",
        "value": "Cosmo",
        "position": 0,
        "isProductPreview": false
      },
      "currency_products": {
        "type": "string",
        "value": "",
        "position": 2,
        "isProductPreview": false
      }
    },
    "isVisible": true,
    "productPages": {
      "id": 6,
      "pageId": 2,
      "productId": 4,
      "positionId": 229
    },
    "blocks": "product_block"
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**additional:**	Record<string, any> <br>
*additional value from the index* <br>
example: OrderedMap { "prices": OrderedMap { "min": 0, "max": 100 } } <br>

**statusLocalizeInfos:**	CommonLocalizeInfos <br>
*json description of the item status object, taking into account the language* <br>
example: {  "title": "Product" <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

**isVisible:**	boolean <br>
*Page visibility flag* <br>
example: true <br>

**position:**	number <br>
*position number (for sorting)* <br>
example: 192 <br>

**templateIdentifier:**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**attributeSetId:**	number <br>
*attribute set identifier* <br>
example: 7 <br>

**blocks:**	array <br>
*product blocks* <br>
example: ['product_block'] <br>

**isSync:**	boolean <br>
*indicator of page indexing (true or false)* <br>
example: false <br>

**attributeValues:**	Record<string, string> <br>
*Array of attribute values from the index (presented as a pair of custom attribute identifier: attribute value)* <br>
example: OrderedMap { "en_US": OrderedMap { "marker": OrderedMap { "value": "", "type": "string" } } } <br>

**statusId:** number <br>
*status identifiers of the product page (can be null)* <br>
example: 1 <br>

**sku:** string <br>
*product SKU value taken from the index* <br>
example: 1 <br>

**relatedIds:** array <br>
*identifiers of related product pages* <br>
example: List [ 1, 2, 3 ] <br>

**price:**	number <br>
*price value of the product page taken from the index* <br>
example: 0 <br>

**templateIdentifier**	string <br>
*custom identifier of the associated template* <br>
example: my-template <br>

**shortDescTemplateIdentifier**	string <br>
*custom identifier of the associated template for short description* <br>
example: my-template-short <br>

</details>

---


## <h2 id="productstatuses"> ProductStatuses </h2>


```js
const { ProductStatuses } = defineOneEntry('your-url');
```

### ProductStatuses.getProductStatuses()

```js
const value = await ProductStatuses.getProductStatuses()
```

> This method searches for all product status objects from the API. It returns a Promise that resolves to an array of product status objects.

Example return:

```json
[
  {
      "id": 1764,
      "version": 10,
      "position": 2,
      "identifier": "catalog",
      "localizeInfos": {
        "title": "Status 1"
      }
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**version**	number <br>
*object's version number of modification* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for a field in the record* <br>
example: catalog <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

</details>

### ProductStatuses.getProductStatusesById(id)

```js
const value = await ProductStatuses.getProductStatusesById(1)
```

> This method searches for a product status object based on its identifier (id) from the API. It returns a Promise that resolves to a product status object.

Example return:

```json
{
  "id": 1764,
  "version": 10,
  "position": 2,
  "identifier": "catalog",
  "localizeInfos": {
    "title": "Status 1"
  }
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**version**	number <br>
*object's version number of modification* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for a field in the record* <br>
example: catalog <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

</details>

### ProductStatuses.getProductsByStatusMarker(marker)

```js
const value = await ProductStatuses.getProductsByStatusMarker('my-marker')
```

> This method searches for a product status object based on its textual identifier (marker) from the API. It returns a Promise that resolves to a product status object.

Example return:

```json
{
  "id": 1764,
  "version": 10,
  "position": 2,
  "identifier": "catalog",
  "localizeInfos": {
    "title": "Status 1"
  }
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**version**	number <br>
*object's version number of modification* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for a field in the record* <br>
example: catalog <br>

**localizeInfos:**	Record<string, any> <br>
*json description of the main page data object taking into account the language "en_US" (for example)* <br>
example: OrderedMap { "en_US": OrderedMap { "title": "Catalog", "plainContent": "Content for catalog", "htmlContent": "<b>Content for catalog</b>", "menuTitle": "Catalog" } } <br>

</details>

### ProductStatuses.validateMarker(marker)

```js
const value = await ProductStatuses.validateMarker('marker')
```

> This method checks the existence of a textual identifier (marker). It takes a marker parameter as input, representing the product marker to validate. It returns a Promise that resolves to true if the textual identifier (marker) exists or false if it doesn't.

Example return:

```json
true
```

---


## <h2 id="system"> System </h2>


```js
const { System } = defineOneEntry('your-url');
```

### System.test404()

```js
const value = await System.test404()
```

> This method allows you to redirect to the error page.

### System.test500()

```js
const value = await System.test500()
```

> This method allows you to redirect to the error page.


## <h2 id="templates"> Templates </h2>


```js
const { Templates } = defineOneEntry('your-url');
```

### Templates.getAllTemplates()

```js
const value = await Templates.getAllTemplates()
```

> This method retrieves all template objects grouped by types from the API. It returns a Promise that resolves to an object GroupedTemplatesObject, which contains an array of template objects.

Example return:

```json
[
  {
    "id": 1764,
    "version": 10,
    "identifier": "marker",
    "generalTypeId": 4,
    "title": "Page template",
    "position": 0,
    "generalTypeName": "forProductPreview"
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>


**version**	number <br>
*object's version number of modification* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for a field in the record* <br>
example: catalog <br>

**generalTypeId:**	number <br>
*type identifier* <br>
example: 4 <br>

**title:**	string<br>
*template name* <br>
example: page template <br>

**position** object <br>
*position number* <br>
example: 0 <br>

**generalTypeName**	string <br>
*example: forProductPreview* <br>
general type name <br>

</details>

### Templates.getTemplateByType(type)

```js
const value = await Templates.getTemplateByType('forCatalogProducts')
```

> This method retrieves a single template object based on its identifier (id) from the API. It returns a Promise that resolves to a template object.

Example return:

```json
[
  {
    "id": 1764,
    "version": 10,
    "identifier": "marker",
    "generalTypeId": 4,
    "title": "Page template",
    "position": 0,
    "generalTypeName": "forProductPreview"
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>


**version**	number <br>
*object's version number of modification* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for a field in the record* <br>
example: catalog <br>

**generalTypeId:**	number <br>
*type identifier* <br>
example: 4 <br>

**title:**	string<br>
*template name* <br>
example: page template <br>

**position** object <br>
*position number* <br>
example: 0 <br>

**generalTypeName**	string <br>
*example: forProductPreview* <br>
general type name <br>

</details>


### Templates.getTemplateById(id)

```js
const value = await Templates.getTemplateById(1)
```

> This method retrieves a single template object based on its identifier (id) from the API. It returns a Promise that resolves to a template object.

Example return:

```json
[
  {
    "id": 1764,
    "version": 10,
    "identifier": "marker",
    "generalTypeId": 4,
    "title": "Page template",
    "generalTypeName": "forProductPreview"
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**version**	number <br>
*object's version number of modification* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for a field in the record* <br>
example: catalog <br>

**generalTypeId:**	number <br>
*type identifier* <br>
example: 4 <br>

**title:**	string<br>
*template name* <br>
example: page template <br>

**position** object <br>
*position number* <br>
example: 0 <br>


**generalTypeName**	string <br>
*example: forProductPreview* <br>
general type name <br>

</details>

---


## <h2 id="templatepreviews"> TemplatePreviews </h2>


```js
const { TemplatePreviews } = defineOneEntry('your-url');
```

### TemplatePreviews.getTemplatePreviews()

```js
const value = await TemplatePreviews.getTemplatePreviews()
```

> This method retrieves all template objects from the API. It returns a Promise that resolves to an array of TemplatePreviewsEntity template objects.

Example return:

```json
[
  {
    "id": 1,
    "version": 0,
    "identifier": "preview-templates",
    "proportion": {
      "vertical": {
        "width": "2",
        "height": "3",
        "alignmentType": "leftTop",
        "marker": "v"
      },
      "horizontal": {
        "width": "234",
        "height": "324",
        "alignmentType": "middleBottom",
        "marker": "h"
      },
      "square": {
        "side": "3",
        "alignmentType": "middleBottom",
        "marker": "s"
      }
    },
    "title": "Preview Templates",
    "position": 1
  }
]
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**version**	number <br>
*object's version number of modification* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for a field in the record* <br>
example: catalog <br>

**proportion**	ITemplateProportionType <br>
*template proportion parameters* <br>
example: OrderedMap { "horizontal": OrderedMap { "height": 200, "weight": 10, "marker": "horizontal", "title": "Horizontal", "alignmentType": "left" }, "vertical": OrderedMap { "height": 10, "weight": 200, "marker": "vertical", "title": "Vertical", "alignmentType": "left" }, "square": OrderedMap { "marker": "square", "title": "Square", "slide": 3, "alignmentType": "center" } } <br>

**title:**	string<br>
*template name* <br>
example: page template <br>

**position** object <br>
*position number* <br>
example: 0 <br>


**positionId:**	number <br>
*position object identifier* <br>
example: 12 <br>

</details>


### TemplatePreviews.getTemplatesPreviewById(id)

```js
const value = await TemplatePreviews.getTemplatePreviewById(1764)
```

> This method retrieves a single template object based on its identifier (id) from the API. It returns a Promise that resolves to a TemplatePreviewsEntity object.

Example return:

```json
  {
  "id": 1,
  "version": 0,
  "identifier": "preview-templates",
  "proportion": {
    "vertical": {
      "width": "2",
      "height": "3",
      "alignmentType": "leftTop",
      "marker": "v"
    },
    "horizontal": {
      "width": "234",
      "height": "324",
      "alignmentType": "middleBottom",
      "marker": "h"
    },
    "square": {
      "side": "3",
      "alignmentType": "middleBottom",
      "marker": "s"
    }
  },
  "title": "Preview Templates",
  "position": 1
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**version**	number <br>
*object's version number of modification* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for a field in the record* <br>
example: catalog <br>

**proportion**	ITemplateProportionType <br>
*template proportion parameters* <br>
example: OrderedMap { "horizontal": OrderedMap { "height": 200, "weight": 10, "marker": "horizontal", "title": "Horizontal", "alignmentType": "left" }, "vertical": OrderedMap { "height": 10, "weight": 200, "marker": "vertical", "title": "Vertical", "alignmentType": "left" }, "square": OrderedMap { "marker": "square", "title": "Square", "slide": 3, "alignmentType": "center" } } <br>

**title:**	string<br>
*template name* <br>
example: page template <br>

**position** object <br>
*position number* <br>
example: 0 <br>


**positionId:**	number <br>
*position object identifier* <br>
example: 12 <br>

</details>

### TemplatePreviews.getTemplatesPreviewByMarker(marker)

```js
const value = await TemplatePreviews.getTemplatePreviewByMarker('my-marker')
```

> This method retrieves a single template object based on its textual identifier (marker) from the API. It returns a Promise that resolves to a TemplatePreviewsEntity object.

Example return:

```json
{
  "id": 1,
  "version": 0,
  "identifier": "preview-templates",
  "proportion": {
    "vertical": {
      "width": "2",
      "height": "3",
      "alignmentType": "leftTop",
      "marker": "v"
    },
    "horizontal": {
      "width": "234",
      "height": "324",
      "alignmentType": "middleBottom",
      "marker": "h"
    },
    "square": {
      "side": "3",
      "alignmentType": "middleBottom",
      "marker": "s"
    }
  },
  "title": "Preview Templates",
  "position": 1
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**version**	number <br>
*object's version number of modification* <br>
example: 10 <br>

**identifier:**	string <br>
*textual identifier for a field in the record* <br>
example: catalog <br>

**proportion**	ITemplateProportionType <br>
*template proportion parameters* <br>
example: OrderedMap { "horizontal": OrderedMap { "height": 200, "weight": 10, "marker": "horizontal", "title": "Horizontal", "alignmentType": "left" }, "vertical": OrderedMap { "height": 10, "weight": 200, "marker": "vertical", "title": "Vertical", "alignmentType": "left" }, "square": OrderedMap { "marker": "square", "title": "Square", "slide": 3, "alignmentType": "center" } } <br>

**title:**	string<br>
*template name* <br>
example: page template <br>

**positionId** object <br>
*position number* <br>
example: 0 <br>


**positionId:**	number <br>
*position object identifier* <br>
example: 12 <br>

</details>
---


## <h2 id="users"> Users </h2>


```js
const { Users } = defineOneEntry('your-url');
```

### Users.getUser(langCode)

```js
const value = await Users.getUser()
```

> This method sends a request to get the data of an authorized user. Returns the authorized user's data object.

Example return:

```json
{
  "id": 1764,
  "identifier": "admin1",
  "formIdentifier": "regForm",
  "authProviderIdentifier": "email",
  "groups": [
    "group_1"
  ]
}
```
<details>
<summary>Schema</summary>

**id:**	number <br>
*object identifier* <br>
example: 1764 <br>

**identifier:**	string <br>
*textual identifier for a field in the record* <br>
example: catalog <br>

**formIdentifier**	string <br>
*the text identifier of the form linked to the authorization provider* <br>
example: , regForm <br>

**authProviderIdentifier:**	string <br>
*the text ID of the authorization provider* <br>
example: email <br>

**groups** string[] <br>
*An array of values for the text identifiers of the groups that the user belongs to* <br>
example:  List [ "group_1" ] <br>

</details>


### Users.updateUser(langCode)

```js
const data = {
    "formIdentifier": "reg",
    "authData": [
        {
            "marker": "password",
            "value": "12345"
        }
    ],
    "formData": [
        {
            "marker": "last_name",
            "type": "string",
            "value": "Username"
        }
    ],
    "notificationData": {
        "email": "example@oneentry.cloud",
        "phonePush": "",
        "phoneSMS": "+99999999999"
    }
}

const value = await Users.updateUser(data, langCode)
```

> This method updates the authorized user's data object. Returns true (in case of successful update) or false (in case of unsuccessful update).

Example return:

```json
true
```
<details>
<summary>Schema</summary>

**formIdentifier**	string <br>
*the text identifier of the form linked to the authorization provider* <br>
example: , regForm <br>

**formData:**		FormDataLangType <br>
*the data of the form linked to the authorization provider* <br>
example: OrderedMap { "en_US": List [ OrderedMap { "marker": "first-name", "value": "First name" }, OrderedMap { "marker": "last-name", "value": "Second name" } ] } <br>

**authData** FormDataType <br>
*Authorization data taken from the form linked to the authorization provider (used only to change the password)* <br>
example:  List [ OrderedMap { "marker": "password", "value": "12345" } ] <br>

**notificationData** UserNotificationDataType <br>
*Data for notifying the user* <br>
example: OrderedMap { "email": "example@oneentry.cloud", "phonePush": "", "phoneSMS": "+9999999999" } <br>

</details>

### Users.addFCMToken(token)

```js
const value = await Users.addFCMToken('my-token')
```

> This method adds FCM token for sending Push notifications. Return true in case of successful token update.

Example return:

```json
true
```

### Users.deleteFCMToken(token)

```js
const value = await Users.deleteFCMToken('my-token')
```

> This method delete FCM token for sending Push notifications. Return true in case of successful token deletion.

Example return:

```json
true
```
