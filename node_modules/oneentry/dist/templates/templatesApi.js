"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const asyncModules_1 = require("../base/asyncModules");
/**
 * Controllers for working with template objects
 */
class TemplatesPreviewApi extends asyncModules_1.default {
    constructor(state) {
        super(state);
        this._url = state.url + '/api/content/templates';
    }
    /**
     * Get all template objects grouped by types.
     * @param {string} [langCode] - Optional parameter language code
     *
     * @returns Returns an object GroupedTemplatesObject, which contains an array of template objects TemplateEntity
     */
    async getAllTemplates(langCode = this.state.lang) {
        const response = await this._fetchGet('/all');
        const result = {};
        for (let item in response) {
            result[item] = this._normalizeData(response[item], langCode);
        }
        return result;
    }
    /**
     * Get template objects by type.
     *
     * @param {Types} type - Product marker
     * @param {string} [langCode] - Optional parameter language code
     *
     * @returns Returns a TemplateEntity object
     */
    async getTemplateByType(type) {
        const result = await this._fetchGet(`?type=${type}`);
        return result;
    }
    /**
     * Get one template object by id.
     *
     * @param {number} id - Template id
     *
     * @returns Returns a TemplateEntity object
     */
    async getTemplateById(id) {
        const result = await this._fetchGet(`/${id}`);
        return result;
    }
}
exports.default = TemplatesPreviewApi;
